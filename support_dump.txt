==== SYSTEM ====
Sat Feb  7 16:49:09 EST 2026

pwd: /Users/odellroberts31/Desktop/AppProjects/roberts-ventures-app

node: v20.20.0
npm: 10.8.2
git: git version 2.23.0

==== GIT STATUS ====
## feat/mobile-nav...origin/feat/mobile-nav
 M src/components/EstimatePreview.tsx
 M src/index.css
 M src/main.tsx
 M src/pages/admin/AdminDashboard.tsx
 M src/pages/staylit/StayLitCreate.tsx
 M src/pages/staylit/StayLitSplash.tsx
?? src/assets/roberts-logo.png
?? src/hooks/
?? src/index.css.bak
?? support_dump.txt

==================== package.json ====================
     1	{
     2	  "name": "roberts-ventures-app",
     3	  "private": true,
     4	  "version": "0.0.0",
     5	  "type": "module",
     6	  "scripts": {
     7	    "dev": "vite",
     8	    "build": "tsc -b && vite build",
     9	    "lint": "eslint .",
    10	    "preview": "vite preview"
    11	  },
    12	  "dependencies": {
    13	    "firebase": "^12.9.0",
    14	    "react": "^19.2.0",
    15	    "react-dom": "^19.2.0",
    16	    "react-router-dom": "^7.13.0"
    17	  },
    18	  "devDependencies": {
    19	    "@eslint/js": "^9.39.1",
    20	    "@types/node": "^24.10.1",
    21	    "@types/react": "^19.2.5",
    22	    "@types/react-dom": "^19.2.3",
    23	    "@vitejs/plugin-react": "^5.1.1",
    24	    "eslint": "^9.39.1",
    25	    "eslint-plugin-react-hooks": "^7.0.1",
    26	    "eslint-plugin-react-refresh": "^0.4.24",
    27	    "globals": "^16.5.0",
    28	    "typescript": "~5.9.3",
    29	    "typescript-eslint": "^8.46.4",
    30	    "vite": "^7.2.4"
    31	  }
    32	}

==================== tsconfig.json ====================
     1	{
     2	  "files": [],
     3	  "references": [
     4	    { "path": "./tsconfig.app.json" },
     5	    { "path": "./tsconfig.node.json" }
     6	  ]
     7	}

==================== vite.config.ts ====================
     1	import { defineConfig } from 'vite'
     2	import react from '@vitejs/plugin-react'
     3	
     4	// https://vite.dev/config/
     5	export default defineConfig({
     6	  plugins: [react()],
     7	})

==================== src/main.tsx ====================
     1	import React from "react";
     2	import "./styles/urban.css";
     3	
     4	import ReactDOM from "react-dom/client";
     5	import { BrowserRouter } from "react-router-dom";
     6	import App from "./App";
     7	import "./index.css";
     8	import "./styles/staylit-flame.css";
     9	import { CartProvider } from "./data/requestCart";
    10	import { emitToast } from "./components/ToastHost";
    11	
    12	ReactDOM.createRoot(document.getElementById("root")!).render(
    13	  <React.StrictMode>
    14	    <BrowserRouter>
    15	      <CartProvider>
    16	        <App />
    17	      </CartProvider>
    18	    </BrowserRouter>
    19	  </React.StrictMode>
    20	);
    21	
    22	
    23	// RV_ALERT_TOAST_OVERRIDE: route all alert() calls through toast UI (non-blocking)
    24	window.alert = (msg?: any) => {
    25	  const message = String(msg ?? "").trim();
    26	  if (!message) return;
    27	  emitToast({ message, variant: "info", durationMs: 3200 });
    28	};

==================== src/App.tsx ====================
     1	import useThemeMode from "./hooks/useThemeMode";
     2	import SubNavbar from "./components/SubNavbar";
     3	
     4	
     5	import { Routes, Route, useLocation } from "react-router-dom";
     6	import Navbar from "./components/Navbar";
     7	import ScrollToTop from "./components/ScrollToTop";
     8	import Footer from "./components/Footer";
     9	
    10	import Home from "./pages/Home";
    11	import Services from "./pages/Services";
    12	import Schedule from "./pages/Schedule";
    13	import StayLit from "./pages/StayLit";
    14	import Contact from "./pages/Contact";
    15	import Requests from "./pages/Requests";
    16	import ServiceDetail from "./pages/ServiceDetail";
    17	
    18	import Policies from "./pages/Policies";
    19	import ServiceArea from "./pages/ServiceArea";
    20	import FAQ from "./pages/FAQ";
    21	import Reviews from "./pages/Reviews";
    22	import Portfolio from "./pages/Portfolio";
    23	import About from "./pages/About";
    24	
    25	import CustomerPortal from "./pages/CustomerPortal";
    26	import CustomerRequestDetail from "./pages/CustomerRequestDetail";
    27	
    28	import AdminLogin from "./pages/admin/AdminLogin";
    29	import AdminDashboard from "./pages/admin/AdminDashboard";
    30	import AdminGuard from "./components/admin/AdminGuard";
    31	
    32	import RequestConfirmed from "./pages/RequestConfirmed";
    33	
    34	import bg from "./assets/handyman-bg.png";
    35	import staylitBg from "./assets/staylit-bg.png";
    36	import ToastHost from "./components/ToastHost";
    37	
    38	export default function App() {
    39	  const location = useLocation();
    40	  const isStayLit = location.pathname.startsWith("/staylit");
    41	  useThemeMode(isStayLit);
    42	
    43	
    44	  return (
    45	    <div
    46	      style={{
    47	        minHeight: "100vh",
    48	
    49	        // Dark neon-friendly overlay so text stays readable over ANY background image
    50	        backgroundImage: `
    51	          linear-gradient(
    52	            rgba(2,6,23,0.86),
    53	            rgba(2,6,23,0.82)
    54	          ),
    55	          radial-gradient(
    56	            circle at 20% 10%,
    57	            rgba(59,130,246,0.18),
    58	            rgba(0,0,0,0) 55%
    59	          ),
    60	          radial-gradient(
    61	            circle at 80% 15%,
    62	            rgba(168,85,247,0.14),
    63	            rgba(0,0,0,0) 60%
    64	          ),
    65	          url(${isStayLit ? staylitBg : bg})
    66	        `,
    67	        backgroundSize: "cover",
    68	        backgroundPosition: "center",
    69	        backgroundRepeat: "no-repeat",
    70	        backgroundAttachment: "fixed",
    71	
    72	        // Global readable text tone (prevents ‚Äúwashed out‚Äù text on image backgrounds)
    73	        color: "#e5e7eb",
    74	      }}
    75	    >
    76	      <Navbar />
    77	      <SubNavbar />
    78	
    79	      <ScrollToTop />
    80	
    81	      <main
    82	        key={location.pathname}
    83	        className="page-enter"
    84	        style={{
    85	          padding: "24px 16px",
    86	          maxWidth: 1200,
    87	          margin: "0 auto",
    88	          minHeight: "calc(100vh - 80px)",
    89	        }}
    90	      >
    91	        <Routes>
    92	          <Route path="/" element={<Home />} />
    93	          <Route path="/services" element={<Services />} />
    94	          <Route path="/services/:id" element={<ServiceDetail />} />
    95	          <Route path="/schedule" element={<Schedule />} />
    96	          <Route path="/staylit/*" element={<StayLit />} />
    97	          <Route path="/contact" element={<Contact />} />
    98	
    99	          <Route path="/about" element={<About />} />
   100	          <Route path="/portfolio" element={<Portfolio />} />
   101	          <Route path="/reviews" element={<Reviews />} />
   102	          <Route path="/faq" element={<FAQ />} />
   103	          <Route path="/service-area" element={<ServiceArea />} />
   104	          <Route path="/policies" element={<Policies />} />
   105	          <Route path="/requests" element={<Requests />} />
   106	
   107	          <Route path="/customer" element={<CustomerPortal />} />
   108	          <Route path="/customer/requests/:id" element={<CustomerRequestDetail />} />
   109	
   110	          <Route path="/admin/login" element={<AdminLogin />} />
   111	          <Route
   112	            path="/admin"
   113	            element={
   114	              <AdminGuard>
   115	                <AdminDashboard />
   116	              </AdminGuard>
   117	            }
   118	          />
   119	
   120	          {/* IMPORTANT: keep this ABOVE the catch-all 404 route */}
   121	          <Route path="/request-confirmed/:id" element={<RequestConfirmed />} />
   122	
   123	          <Route
   124	            path="*"
   125	            element={
   126	              <div style={{ padding: 24, maxWidth: 900, margin: "0 auto" }}>
   127	                <h1 style={{ fontWeight: 950, margin: 0 }}>Page not found (404)</h1>
   128	                <p style={{ marginTop: 10, fontWeight: 800, opacity: 0.9 }}>
   129	                  If you expected Admin to load, this can mean the route is missing or the app is not wrapped in
   130	                  BrowserRouter.
   131	                </p>
   132	                <p style={{ marginTop: 10, fontWeight: 900 }}>
   133	                  Try: <code>/admin/login</code> then <code>/admin</code>
   134	                </p>
   135	              </div>
   136	            }
   137	          />
   138	        </Routes>
   139	      </main>
   140	
   141	      <Footer />
   142	      <ToastHost />
   143	    </div>
   144	  );
   145	}

==================== src/index.css ====================
     1	/* ================= RESET ================= */
     2	
     3	*,
     4	*::before,
     5	*::after { box-sizing: border-box; }
     6	
     7	html, body, #root {
     8	  margin: 0;
     9	  padding: 0;
    10	  min-height: 100%;
    11	  height: 100%;
    12	}
    13	
    14	/* ================= THEME ================= */
    15	
    16	:root {
    17	  /* LIGHT (default) */
    18	  --text-main: #050b18;      /* strong readable slate */
    19	  --text-strong: #020617;
    20	  --text-soft: #0f172a;
    21	  --text-muted: #1f2937;
    22	
    23	  --border: rgba(15, 23, 42, 0.14);
    24	
    25	  --accent: #1d4ed8;
    26	  --accent2: #60a5fa;
    27	
    28	  --head-accent: #0ea5e9;    /* bright cyan header accent (light) */
    29	  --sub-accent:  #7c3aed;    /* bright violet subtext (light) */
    30	  --shadow-soft: 0 10px 26px rgba(0,0,0,0.10);
    31	  --shadow-hover: 0 16px 42px rgba(29,78,216,0.22);
    32	
    33	  --radius-lg: 16px;
    34	  --radius-md: 12px;
    35	
    36	  /* Surfaces */
    37	  --panel-bg: rgba(255,255,255,0.97);
    38	  --panel-bg-2: rgba(255,255,255,0.94);
    39	  --field-bg: rgba(255,255,255,0.98);
    40	  --badge-bg: rgba(255,255,255,0.96);
    41	  --btn-bg: rgba(255,255,255,0.98);
    42	}
    43	
    44	/* DARK (Stay Lit or when enabled) */
    45	html[data-theme="dark"] {
    46	  --text-main: #f8fafc;      /* near-white */
    47	  --text-strong: #ffffff;
    48	  --text-soft: #f1f5f9;
    49	  --text-muted: rgba(226,232,240,0.88);
    50	
    51	  --border: rgba(148,163,184,0.20);
    52	
    53	  --accent: #60a5fa;
    54	  --accent2: #22d3ee;
    55	
    56	
    57	  --head-accent: #22d3ee;    /* bright cyan header accent (dark) */
    58	  --sub-accent:  #a78bfa;    /* bright violet subtext (dark) */
    59	  --shadow-soft: 0 12px 32px rgba(0,0,0,0.45);
    60	  --shadow-hover: 0 18px 52px rgba(34,211,238,0.20);
    61	
    62	  /* Surfaces */
    63	  --panel-bg: rgba(2,6,23,0.84);
    64	  --panel-bg-2: rgba(2,6,23,0.78);
    65	  --field-bg: rgba(2,6,23,0.72);
    66	  --badge-bg: rgba(2,6,23,0.72);
    67	  --btn-bg: rgba(2,6,23,0.72);
    68	}
    69	
    70	
    71	/* ================= BASE ================= */
    72	
    73	body {
    74	  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    75	    "Segoe UI", Roboto, Inter, Arial;
    76	  color: var(--text-main);
    77	  background-color: #f8fbff;
    78	  -webkit-font-smoothing: antialiased;
    79	}
    80	
    81	/* ================= TEXT ================= */
    82	
    83	.h1 {
    84	  font-size: clamp(28px, 3vw, 44px);
    85	  font-weight: 900;
    86	  letter-spacing: -0.03em;
    87	  color: var(--text-strong);
    88	}
    89	
    90	.h2 {
    91	  font-size: clamp(20px, 2vw, 28px);
    92	  font-weight: 850;
    93	  color: var(--text-strong);
    94	}
    95	
    96	.h3 {
    97	  font-size: 16px;
    98	  font-weight: 900;
    99	  color: var(--text-strong);
   100	}
   101	
   102	.h1-accent {
   103	  background: linear-gradient(90deg, var(--accent), var(--accent2));
   104	  -webkit-background-clip: text;
   105	  color: transparent;
   106	}
   107	
   108	.lead {
   109	  font-size: 16px;
   110	  line-height: 1.6;
   111	  color: var(--text-soft);
   112	  font-weight: 600;
   113	}
   114	
   115	.body {
   116	  font-size: 14.5px;
   117	  line-height: 1.6;
   118	  color: var(--text-soft);
   119	  font-weight: 600;
   120	}
   121	
   122	.muted { color: var(--text-muted); }
   123	
   124	
   125	
   126	/* Helpers: bright text you can reuse everywhere */
   127	.title-accent{
   128	  color: var(--head-accent);
   129	  text-shadow: 0 0 18px rgba(34,211,238,0.18);
   130	  font-weight: 950;
   131	}
   132	
   133	.sub-accent{
   134	  color: var(--sub-accent);
   135	  font-weight: 850;
   136	}
   137	
   138	/* Use for rates/prices that should match card description subtext */
   139	.price-accent{
   140	  color: var(--sub-accent);
   141	  font-weight: 950;
   142	}
   143	
   144	/* Use for 2nd navbar brand + links when you want them to match subtext color */
   145	.nav-sub-accent{
   146	  color: var(--sub-accent);
   147	  font-weight: 900;
   148	}
   149	/* ================= LAYOUT ================= */
   150	
   151	.stack {
   152	  display: grid;
   153	  gap: 14px;
   154	}
   155	
   156	.row {
   157	  display: flex;
   158	  align-items: center;
   159	  gap: 12px;
   160	  flex-wrap: wrap;
   161	}
   162	
   163	.center {
   164	  text-align: center;
   165	  align-items: center;
   166	  justify-content: center;
   167	}
   168	
   169	/* ================= CARDS ================= */
   170	
   171	.panel {
   172	  color: var(--text-main);
   173	  background: var(--panel-bg);
   174	  border: 1px solid var(--border);
   175	  border-radius: var(--radius-lg);
   176	  box-shadow: var(--shadow-soft);
   177	  backdrop-filter: blur(16px);
   178	}
   179	
   180	
   181	
   182	
   183	/* ================= GLOW VARIANT ================= */
   184	/* IMPORTANT: selector is .panel.glow-panel so it beats .panel‚Äôs box-shadow */
   185	.panel.glow-panel{
   186	  box-shadow:
   187	    var(--shadow-soft),
   188	    0 0 28px rgba(34,211,238,0.45),
   189	    0 0 72px rgba(59,130,246,0.28),
   190	    0 0 120px rgba(167,139,250,0.18);
   191	  border-color: rgba(34,211,238,0.34);
   192	}
   193	
   194	.panel.glow-panel:hover{
   195	  box-shadow:
   196	    var(--shadow-soft),
   197	    0 0 34px rgba(34,211,238,0.55),
   198	    0 0 92px rgba(59,130,246,0.34),
   199	    0 0 150px rgba(167,139,250,0.22);
   200	  transform: translateY(-1px);
   201	}
   202	
   203	html[data-theme="dark"] .panel.glow-panel{
   204	  box-shadow:
   205	    var(--shadow-soft),
   206	    0 0 32px rgba(34,211,238,0.55),
   207	    0 0 86px rgba(59,130,246,0.34),
   208	    0 0 140px rgba(167,139,250,0.22);
   209	  border-color: rgba(34,211,238,0.44);
   210	}
   211	.card {
   212	  padding: 18px;
   213	}
   214	
   215	/* Centered card variant */
   216	.card-center {
   217	  display: flex;
   218	  flex-direction: column;
   219	  align-items: center;
   220	  text-align: center;
   221	  gap: 8px;
   222	}
   223	
   224	/* ================= BUTTONS ================= */
   225	
   226	.btn {
   227	  padding: 10px 14px;
   228	  border-radius: var(--radius-md);
   229	  border: 1px solid var(--border);
   230	  background: var(--btn-bg);
   231	  color: var(--text-main);
   232	  font-weight: 900;
   233	  cursor: pointer;
   234	  transition: all .2s ease;
   235	}
   236	
   237	.btn:hover {
   238	  transform: translateY(-1px);
   239	  border-color: rgba(29,78,216,0.7);
   240	  box-shadow: var(--shadow-hover);
   241	}
   242	
   243	.btn-primary {
   244	  background: linear-gradient(90deg, rgba(29,78,216,.95), rgba(96,165,250,.95));
   245	  color: white;
   246	  border-color: rgba(29,78,216,.6);
   247	}
   248	
   249	.btn-ghost {
   250	  background: color-mix(in srgb, var(--btn-bg) 82%, transparent);
   251	}
   252	
   253	/* ================= INPUTS ================= */
   254	
   255	.field {
   256	  width: 100%;
   257	  padding: 10px 12px;
   258	  border-radius: var(--radius-md);
   259	  border: 1px solid var(--border);
   260	  background: var(--field-bg);
   261	  color: var(--text-main);
   262	  font-weight: 600;
   263	}
   264	
   265	.field:focus {
   266	  outline: none;
   267	  border-color: rgba(29,78,216,.7);
   268	  box-shadow: 0 0 0 4px rgba(29,78,216,.2);
   269	}
   270	
   271	/* ================= BADGE ================= */
   272	
   273	.badge {
   274	  padding: 5px 12px;
   275	  border-radius: 999px;
   276	  border: 1px solid var(--border);
   277	  background: var(--badge-bg);
   278	  font-size: 12px;
   279	  font-weight: 900;
   280	  color: var(--text-soft);
   281	}
   282	
   283	/* ================= MOTION / ANIMATION ================= */
   284	
   285	/* Respect users who prefer reduced motion */
   286	@media (prefers-reduced-motion: reduce) {
   287	  * { animation: none !important; transition: none !important; }
   288	}
   289	
   290	/* Page fade-in */
   291	.page {
   292	  animation: pageFade 0.35s ease-out both;
   293	}
   294	
   295	@keyframes pageFade {
   296	  from { opacity: 0; transform: translateY(6px); }
   297	  to   { opacity: 1; transform: translateY(0); }
   298	}
   299	
   300	/* Card hover lift (desktop) + tap feedback (mobile) */
   301	.panel {
   302	  color: var(--text-main);
   303	  transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
   304	}
   305	
   306	@media (hover: hover) and (pointer: fine) {
   307	  .panel:hover {
   308	    transform: translateY(-2px);
   309	    border-color: rgba(29,78,216,0.35);
   310	    box-shadow: 0 18px 40px rgba(29,78,216,0.18);
   311	  }
   312	}
   313	
   314	/* Tap feedback for touch devices */
   315	@media (hover: none) and (pointer: coarse) {
   316	  .panel:active {
   317	    transform: scale(0.99);
   318	  }
   319	}
   320	
   321	/* Button press feel */
   322	.btn {
   323	  transition: transform 0.12s ease, box-shadow 0.18s ease, border-color 0.18s ease, filter 0.18s ease;
   324	}
   325	
   326	.btn:active {
   327	  transform: translateY(1px) scale(0.99);
   328	  filter: brightness(0.98);
   329	}
   330	
   331	/* Futuristic glow ring utility (optional use) */
   332	.glow {
   333	  box-shadow:
   334	    0 0 0 1px rgba(29,78,216,0.18),
   335	    0 10px 30px rgba(29,78,216,0.18);
   336	}
   337	
   338	/* Subtle animated shine on primary buttons */
   339	.btn-primary {
   340	  position: relative;
   341	  overflow: hidden;
   342	}
   343	
   344	.btn-primary::after {
   345	  content: "";
   346	  position: absolute;
   347	  top: -40%;
   348	  left: -60%;
   349	  width: 50%;
   350	  height: 180%;
   351	  transform: rotate(18deg);
   352	  background: linear-gradient(
   353	    to right,
   354	    rgba(255,255,255,0) 0%,
   355	    rgba(255,255,255,0.22) 50%,
   356	    rgba(255,255,255,0) 100%
   357	  );
   358	  transition: left 0.5s ease;
   359	}
   360	
   361	@media (hover: hover) and (pointer: fine) {
   362	  .btn-primary:hover::after {
   363	    left: 120%;
   364	  }
   365	}
   366	
   367	/* ================= FUTURISTIC BOOST ================= */
   368	
   369	/* Slower, smoother page transition */
   370	.page {
   371	  animation: pageFade 0.55s cubic-bezier(.2,.9,.2,1) both;
   372	}
   373	
   374	@keyframes pageFade {
   375	  from { opacity: 0; transform: translateY(10px); filter: blur(1px); }
   376	  to   { opacity: 1; transform: translateY(0); filter: blur(0); }
   377	}
   378	
   379	/* Stronger neon edge and glow */
   380	.panel {
   381	  color: var(--text-main);
   382	  position: relative;
   383	  overflow: hidden;
   384	  transition: transform 0.24s ease, box-shadow 0.24s ease, border-color 0.24s ease;
   385	}
   386	
   387	/* Subtle moving highlight (gives ‚Äúfuture glass‚Äù feel) */
   388	.panel::before {
   389	  content: "";
   390	  position: absolute;
   391	  inset: -40%;
   392	  background: radial-gradient(circle at 20% 20%, rgba(96,165,250,0.16), rgba(255,255,255,0) 55%);
   393	  transform: translate3d(-18%, -12%, 0);
   394	  pointer-events: none;
   395	  opacity: 0.55;
   396	  animation: panelGlowDrift 10s ease-in-out infinite;
   397	}
   398	
   399	@keyframes panelGlowDrift {
   400	  0%   { transform: translate3d(-18%, -12%, 0); opacity: 0.45; }
   401	  50%  { transform: translate3d(8%, 6%, 0);    opacity: 0.7; }
   402	  100% { transform: translate3d(-18%, -12%, 0); opacity: 0.45; }
   403	}
   404	
   405	@media (hover: hover) and (pointer: fine) {
   406	  .panel:hover {
   407	    transform: translateY(-4px);
   408	    border-color: rgba(96,165,250,0.55);
   409	    box-shadow:
   410	      0 18px 46px rgba(29,78,216,0.22),
   411	      0 0 0 1px rgba(96,165,250,0.22),
   412	      0 0 32px rgba(96,165,250,0.18);
   413	  }
   414	}
   415	
   416	/* Buttons: slightly stronger sheen + glow */
   417	.btn:hover {
   418	  box-shadow:
   419	    0 16px 36px rgba(29,78,216,0.22),
   420	    0 0 0 1px rgba(96,165,250,0.18);
   421	}
   422	
   423	.btn-primary::after {
   424	  transition: left 0.75s ease;
   425	}
   426	
   427	/* Optional: apply to any element to add ‚Äúneon ring‚Äù */
   428	.neon {
   429	  box-shadow:
   430	    0 0 0 1px rgba(96,165,250,0.22),
   431	    0 0 28px rgba(96,165,250,0.22);
   432	}
   433	
   434	/* ================================
   435	   SMART AUTO THEME SYSTEM
   436	================================ */
   437	
   438	/* Default = dark mode (image backgrounds) */
   439	:root {
   440	  --text-primary: #e5e7eb;
   441	  --text-muted: #cbd5f5;
   442	  --card-bg: rgba(10,10,15,0.85);
   443	  --card-border: rgba(148,163,184,0.18);
   444	}
   445	
   446	/* Light mode override */
   447	body.light-mode {
   448	  --text-primary: #0f172a;
   449	  --text-muted: #475569;
   450	  --card-bg: rgba(255,255,255,0.9);
   451	  --card-border: rgba(2,6,23,0.12);
   452	}
   453	
   454	/* Apply globally */
   455	body {
   456	  color: var(--text-primary);
   457	}
   458	
   459	/* Muted text */
   460	.muted {
   461	  color: var(--text-muted) !important;
   462	}
   463	
   464	/* Cards / panels */
   465	.panel.card {
   466	  background: var(--card-bg) !important;
   467	  border: 1px solid var(--card-border) !important;
   468	  backdrop-filter: blur(6px);
   469	}
   470	
   471	/* Headings pop */
   472	h1, h2, h3, h4 {
   473	  color: var(--text-primary);
   474	  text-shadow: 0 0 12px rgba(0,0,0,0.15);
   475	}
   476	
   477	
   478	
   479	html[data-theme="dark"] .muted {
   480	  color: rgba(226,232,240,0.90);
   481	}
   482	
   483	html[data-theme="dark"] .badge {
   484	  color: rgba(241,245,249,0.95);
   485	}
   486	
   487	
   488	
   489	/* ================= MAX CONTRAST OVERRIDES ================= */
   490	/* These are placed at the END of the file so they win. */
   491	
   492	html[data-theme="light"] {
   493	  --text-main: #020617;          /* near-black */
   494	  --text-strong: #020617;
   495	  --text-soft: #0f172a;          /* deep slate */
   496	  --text-muted: #111827;         /* darker muted (still readable) */
   497	
   498	  --border: rgba(2, 6, 23, 0.22);
   499	  --panel-bg: rgba(255,255,255,0.995);   /* almost pure white */
   500	  --panel-bg-2: rgba(255,255,255,0.98);
   501	  --field-bg: rgba(255,255,255,0.995);
   502	  --badge-bg: rgba(255,255,255,0.995);
   503	  --btn-bg: rgba(255,255,255,0.995);
   504	}
   505	
   506	html[data-theme="dark"] {
   507	  --text-main: #ffffff;           /* pure white */
   508	  --text-strong: #ffffff;
   509	  --text-soft: rgba(255,255,255,0.92);
   510	  --text-muted: rgba(255,255,255,0.78);
   511	
   512	  --border: rgba(255,255,255,0.22);
   513	  --panel-bg: rgba(0,0,0,0.88);   /* near-black */
   514	  --panel-bg-2: rgba(0,0,0,0.80);
   515	  --field-bg: rgba(0,0,0,0.72);
   516	  --badge-bg: rgba(0,0,0,0.72);
   517	  --btn-bg: rgba(0,0,0,0.72);
   518	}
   519	
   520	/* Force panels to clearly separate from background */
   521	.panel {
   522	  background: var(--panel-bg) !important;
   523	  border: 1px solid var(--border) !important;
   524	  box-shadow: 0 18px 44px rgba(0,0,0,0.22) !important;
   525	}
   526	
   527	/* Make ALL common text inside cards obey theme variables */
   528	.panel, .card, .stack, .page {
   529	  color: var(--text-main) !important;
   530	}
   531	
   532	.h1, .h2, .h3 {
   533	  color: var(--text-strong) !important;
   534	}
   535	
   536	.body, .lead {
   537	  color: var(--text-soft) !important;
   538	}
   539	
   540	.muted, .label {
   541	  color: var(--text-muted) !important;
   542	}
   543	
   544	/* Inputs / buttons / badges must not fade */
   545	.field, input, textarea, select {
   546	  background: var(--field-bg) !important;
   547	  color: var(--text-main) !important;
   548	  border-color: var(--border) !important;
   549	}
   550	
   551	.badge {
   552	  background: var(--badge-bg) !important;
   553	  color: var(--text-main) !important;
   554	  border-color: var(--border) !important;
   555	}
   556	
   557	.btn {
   558	  background: var(--btn-bg) !important;
   559	  color: var(--text-main) !important;
   560	  border-color: var(--border) !important;
   561	}
   562	
   563	/* Dark mode: add inner highlight + stronger shadow so text pops */
   564	html[data-theme="dark"] .panel {
   565	  box-shadow:
   566	    0 18px 48px rgba(0,0,0,0.70),
   567	    0 0 0 1px rgba(255,255,255,0.10) inset !important;
   568	}
   569	
   570	/* Light mode: crisp edges */
   571	html[data-theme="light"] .panel {
   572	  box-shadow:
   573	    0 14px 34px rgba(2,6,23,0.10),
   574	    0 0 0 1px rgba(2,6,23,0.06) inset !important;
   575	}
   576	
   577	
   578	/* ================= CARD HEADER NEON ACCENT ================= */
   579	/* Bright header text across the entire site */
   580	:root {
   581	  --header-neon: #22d3ee; /* cyan neon */
   582	  --header-glow: rgba(34, 211, 238, 0.45);
   583	}
   584	
   585	html[data-theme="dark"] {
   586	  --header-neon: #38bdf8; /* brighter in dark mode */
   587	  --header-glow: rgba(56, 189, 248, 0.55);
   588	}
   589	
   590	.h1, .h2, .h3 {
   591	  color: var(--header-neon) !important;
   592	  text-shadow:
   593	    0 0 10px var(--header-glow),
   594	    0 0 18px rgba(59,130,246,0.22) !important;
   595	}
   596	
   597	/* Keep non-header body text readable */
   598	.body, .lead {
   599	  text-shadow: none !important;
   600	}
   601	
   602	
   603	/* ================= SUBHEADER / SECONDARY TEXT BOOST ================= */
   604	/* Text directly under headers (usually .muted) should be brighter than body,
   605	   but dimmer than neon headers. */
   606	
   607	:root{
   608	  --subheader: #334155;        /* slate for light background */
   609	  --subheader-strong: #1f2937; /* slightly stronger slate */
   610	  --body-readable: #0f172a;    /* ensure body is readable on light cards */
   611	}
   612	
   613	html[data-theme="dark"]{
   614	  --subheader: #c7d2fe;        /* soft indigo/ice for dark mode */
   615	  --subheader-strong: #e0e7ff; /* brighter but not neon */
   616	  --body-readable: #e5e7eb;    /* readable on dark */
   617	}
   618	
   619	/* Most ‚Äútext directly under header‚Äù in your UI uses .muted */
   620	.muted{
   621	  color: var(--subheader) !important;
   622	  font-weight: 800 !important;
   623	  letter-spacing: 0.01em;
   624	}
   625	
   626	/* If you want an even stronger ‚Äúsubheader‚Äù line, use .muted strong tags */
   627	.muted b, .muted strong{
   628	  color: var(--subheader-strong) !important;
   629	}
   630	
   631	/* Keep normal paragraph text readable in both themes */
   632	.body, .lead{
   633	  color: var(--body-readable) !important;
   634	}
   635	
   636	
   637	/* ================= CARD TEXT CONTRAST BOOST (GLOBAL) ================= */
   638	/* Makes card headers bright, and makes descriptions/subtexts brighter (but not as bright as headers). */
   639	
   640	:root{
   641	  /* Light mode card text */
   642	  --card-header: #0b5cff;   /* bright electric blue */
   643	  --card-subtext: #1f2a44;  /* darker but high-contrast slate */
   644	}
   645	
   646	html[data-theme="dark"]{
   647	  /* Dark mode card text */
   648	  --card-header: #67e8f9;   /* neon cyan */
   649	  --card-subtext: #c7d2fe;  /* bright periwinkle */
   650	}
   651	
   652	/* Card headers: bright */
   653	.panel .h1,
   654	.panel .h2,
   655	.panel .h3,
   656	.panel h1,
   657	.panel h2,
   658	.panel h3{
   659	  color: var(--card-header) !important;
   660	}
   661	
   662	/* Card descriptions/subtexts: brighter but less bright than header */
   663	.panel .muted,
   664	.panel .lead,
   665	.panel .body,
   666	.panel p,
   667	.panel li,
   668	.panel label,
   669	.panel small{
   670	  color: var(--card-subtext) !important;
   671	}
   672	
   673	/* Keep badges readable too */
   674	.panel .badge{
   675	  color: var(--card-subtext) !important;
   676	}
   677	
   678	/* ================= UNIFIED CARD SUBTEXT COLOR ================= */
   679	/* All card descriptions use ONE bright, readable color */
   680	
   681	:root{
   682	  /* Light mode */
   683	  --card-header: #0057ff;     /* strong blue */
   684	  --card-subtext: #0f172a;    /* very dark slate (high contrast) */
   685	}
   686	
   687	html[data-theme="dark"]{
   688	  /* Dark mode */
   689	  --card-header: #67e8f9;     /* neon cyan */
   690	  --card-subtext: #e0e7ff;    /* bright lavender-white */
   691	}
   692	
   693	/* Headers stay bright */
   694	.panel .h1,
   695	.panel .h2,
   696	.panel .h3,
   697	.panel h1,
   698	.panel h2,
   699	.panel h3{
   700	  color: var(--card-header) !important;
   701	}
   702	
   703	/* ALL subtext uses same color */
   704	.panel .muted,
   705	.panel .lead,
   706	.panel .body,
   707	.panel p,
   708	.panel li,
   709	.panel span,
   710	.panel small,
   711	.panel label{
   712	  color: var(--card-subtext) !important;
   713	  opacity: 1 !important;
   714	}
   715	
   716	/* ================= CARD SUBTEXT ONLY (BRIGHT) ================= */
   717	/* Strictly targets description text under headers */
   718	
   719	:root{
   720	  --card-header: #0057ff;   /* header color */
   721	  --card-subtext: #0ea5e9;  /* bright neon subtext */
   722	}
   723	
   724	html[data-theme="dark"]{
   725	  --card-header: #67e8f9;
   726	  --card-subtext: #c7d2fe;
   727	}
   728	
   729	/* Headers inside cards */
   730	.panel .h1,
   731	.panel .h2,
   732	.panel .h3{
   733	  color: var(--card-header) !important;
   734	}
   735	
   736	/* ONLY description/subtext */
   737	.panel .muted,
   738	.panel .body,
   739	.panel .lead,
   740	.panel .description,
   741	.panel .subtext{
   742	  color: var(--card-subtext) !important;
   743	  opacity: 1 !important;
   744	}
   745	
   746	/* Reset normal paragraphs so they don't get forced */
   747	.panel p:not(.muted):not(.body):not(.lead):not(.description):not(.subtext){
   748	  color: var(--text-main) !important;
   749	}
   750	
   751	/* ================= STAY LIT 2ND NAVBAR COLORS ================= */
   752	/* Make 2nd navbar brand + links match card description subtext color */
   753	
   754	.staylit-subnav,
   755	.staylit-subnav * {
   756	  color: var(--card-subtext) !important;
   757	}
   758	
   759	/* Keep hover/active readable + consistent */
   760	.staylit-subnav a:hover,
   761	.staylit-subnav a:focus-visible {
   762	  opacity: 0.95;
   763	  text-decoration: none;
   764	  filter: drop-shadow(0 0 10px rgba(14,165,233,0.25));
   765	}
   766	
   767	.staylit-subnav a[aria-current="page"] {
   768	  font-weight: 900;
   769	  background: rgba(14,165,233,0.14);
   770	  border: 1px solid rgba(14,165,233,0.30);
   771	  border-radius: 999px;
   772	  padding: 6px 10px;
   773	}
   774	
   775	
   776	/* ================= RATES / PRICES ================= */
   777	
   778	/* Prices, totals, amounts, estimates */
   779	.price,
   780	.rate,
   781	.amount,
   782	.total,
   783	.money,
   784	.estimate,
   785	.cart-price,
   786	.schedule-price {
   787	  color: var(--card-subtext) !important;
   788	  font-weight: 800;
   789	}
   790	
   791	/* Any strong text inside cards that looks like pricing */
   792	.panel strong,
   793	.panel b {
   794	  color: var(--card-subtext);
   795	}
   796	
   797	/* ===== Bright subtext (used for card descriptions + rates) ===== */
   798	.subtext-bright,
   799	.rate-bright {
   800	  color: var(--subtext-bright, #a7f3d0) !important; /* fallback */
   801	  font-weight: 800;
   802	  text-shadow: 0 0 14px rgba(34,197,94,0.20);
   803	}

==================== src/components/Navbar.tsx ====================
     1	import { NavLink } from "react-router-dom";
     2	import { useCart } from "../data/requestCart";
     3	import type React from "react";
     4	import rvLogo from "../assets/roberts-ventures-logo.png";
     5	
     6	const baseLinkStyle: React.CSSProperties = {
     7	  textDecoration: "none",
     8	  padding: "8px 12px",
     9	  borderRadius: 999,
    10	  fontWeight: 850,
    11	  fontSize: 14,
    12	  transition: "all .2s ease",
    13	  display: "inline-flex",
    14	  alignItems: "center",
    15	  gap: 6,
    16	};
    17	
    18	export default function Navbar() {
    19	  const cart = useCart();
    20	
    21	  return (
    22	    <header
    23	      style={{
    24	        position: "sticky",
    25	        top: 0,
    26	        zIndex: 50,
    27	        backdropFilter: "blur(18px)",
    28	        background: "linear-gradient(90deg, rgba(10,10,15,.78), rgba(6,10,22,.82))",
    29	        borderBottom: "1px solid rgba(148,163,184,.15)",
    30	      }}
    31	    >
    32	      <div
    33	        style={{
    34	          maxWidth: 1200,
    35	          margin: "0 auto",
    36	          padding: "14px 18px",
    37	          display: "flex",
    38	          alignItems: "center",
    39	          justifyContent: "space-between",
    40	          gap: 16,
    41	          flexWrap: "wrap",
    42	        }}
    43	      >
    44	        {/* Brand */}
    45	        <div style={{ lineHeight: 1.15, display: "flex", alignItems: "center", gap: 10 }}>
    46	          <img
    47	            src={rvLogo}
    48	            alt="Roberts Ventures LLC"
    49	            style={{
    50	              width: 30,
    51	              height: 30,
    52	              objectFit: "contain",
    53	              filter: "drop-shadow(0 0 14px rgba(56,189,248,.22))",
    54	            }}
    55	          />
    56	
    57	          <div style={{ display: "grid" }}>
    58	            <div
    59	              style={{
    60	                fontSize: 18,
    61	                fontWeight: 950,
    62	                letterSpacing: ".06em",
    63	                textTransform: "uppercase",
    64	                background: "linear-gradient(90deg,#38bdf8,#a78bfa,#f472b6)",
    65	                WebkitBackgroundClip: "text",
    66	                WebkitTextFillColor: "transparent",
    67	                filter: "drop-shadow(0 0 16px rgba(56,189,248,.25))",
    68	              }}
    69	            >
    70	              Roberts Ventures LLC
    71	            </div>
    72	
    73	            <div style={{ fontSize: 11, color: "rgba(248,250,252,.62)", fontWeight: 800 }}>
    74	              Services ‚Ä¢ Stay Lit Candle Co.
    75	            </div>
    76	          </div>
    77	        </div>
    78	
    79	        {/* Nav */}
    80	        <nav
    81	          style={{
    82	            display: "flex",
    83	            gap: 6,
    84	            flexWrap: "wrap",
    85	            justifyContent: "center",
    86	          }}
    87	        >
    88	          <NavLink to="/" end style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
    89	            Home
    90	          </NavLink>
    91	
    92	          <NavLink to="/services" style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
    93	            Services
    94	          </NavLink>
    95	
    96	          <NavLink to="/schedule" style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
    97	            Schedule
    98	          </NavLink>
    99	
   100	          <NavLink to="/staylit" style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
   101	            <span className="slFlameNav">üî•</span>
   102	            <span>Stay Lit</span>
   103	          </NavLink>
   104	
   105	          <NavLink to="/contact" style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
   106	            Contact
   107	          </NavLink>
   108	
   109	          <NavLink to="/customer" style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
   110	            Customer Portal
   111	          </NavLink>
   112	
   113	          <NavLink to="/admin" style={baseLinkStyle} className={({ isActive }) => `nav-link${isActive ? " active" : ""}`}>
   114	            Admin
   115	          </NavLink>
   116	        </nav>
   117	
   118	        {/* Cart */}
   119	        <div
   120	          style={{
   121	            padding: "6px 12px",
   122	            borderRadius: 999,
   123	            fontSize: 12,
   124	            fontWeight: 900,
   125	            letterSpacing: ".08em",
   126	            textTransform: "uppercase",
   127	            background: "linear-gradient(90deg, rgba(56,189,248,.12), rgba(167,139,250,.12))",
   128	            color: "rgba(248,250,252,.92)",
   129	            border: "1px solid rgba(56,189,248,.28)",
   130	            boxShadow: "0 0 18px rgba(56,189,248,.15)",
   131	          }}
   132	        >
   133	          Cart: {cart.count}
   134	        </div>
   135	      </div>
   136	    </header>
   137	  );
   138	}

==================== src/components/SubNavbar.tsx ====================
     1	import { NavLink } from "react-router-dom";
     2	
     3	const subLinkStyle = ({ isActive }: { isActive: boolean }) => ({
     4	  textDecoration: "none",
     5	  padding: "6px 10px",
     6	  borderRadius: 999,
     7	  fontWeight: 700,
     8	  fontSize: 12,
     9	  color: "var(--card-subtext)",
    10	  background: isActive ? "rgba(14,165,233,0.12)" : "transparent",
    11	  transition: "all .2s ease",
    12	});
    13	
    14	export default function SubNavbar() {
    15	  return (
    16	    <div
    17	      className="staylit-subnav"
    18	      style={{
    19	        width: "100%",
    20	        borderBottom: "1px solid rgba(148,163,184,0.15)",
    21	        backdropFilter: "blur(12px)",
    22	        background: "rgba(2,6,23,0.55)",
    23	      }}
    24	    >
    25	      <div
    26	        style={{
    27	          maxWidth: 1200,
    28	          margin: "0 auto",
    29	          padding: "6px 16px",
    30	          display: "flex",
    31	          gap: 6,
    32	          alignItems: "center",
    33	          justifyContent: "center",
    34	          flexWrap: "wrap",
    35	        }}
    36	      >
    37	        <NavLink to="/about" style={subLinkStyle}>About</NavLink>
    38	        <NavLink to="/portfolio" style={subLinkStyle}>Portfolio</NavLink>
    39	        <NavLink to="/reviews" style={subLinkStyle}>Reviews</NavLink>
    40	        <NavLink to="/faq" style={subLinkStyle}>FAQ</NavLink>
    41	        <NavLink to="/service-area" style={subLinkStyle}>Service Area</NavLink>
    42	        <NavLink to="/policies" style={subLinkStyle}>Policies</NavLink>
    43	      </div>
    44	    </div>
    45	  );
    46	}

==================== src/components/Footer.tsx ====================
     1	import { NavLink } from "react-router-dom";
     2	import rvLogo from "../assets/roberts-ventures-logo.png";
     3	
     4	const linkStyle = ({ isActive }: { isActive: boolean }) => ({
     5	  textDecoration: "none",
     6	  fontWeight: 900,
     7	  color: isActive ? "#ffffff" : "#cbd5e1",
     8	  opacity: isActive ? 1 : 0.95,
     9	});
    10	
    11	export default function Footer() {
    12	  return (
    13	    <footer
    14	      style={{
    15	        marginTop: 28,
    16	        padding: "22px 16px",
    17	        borderTop: "1px solid rgba(148,163,184,0.18)",
    18	        background: "rgba(2,6,23,0.42)",
    19	        backdropFilter: "blur(6px)",
    20	      }}
    21	    >
    22	      <div style={{ maxWidth: 1200, margin: "0 auto", display: "grid", gap: 14 }}>
    23	        <div className="row" style={{ justifyContent: "space-between", alignItems: "center", gap: 12, flexWrap: "wrap" }}>
    24	          <div style={{ display: "grid", gap: 4 }}>
    25	            <div style={{ display: "inline-flex", alignItems: "center", gap: 10 }}>
    26	              <img
    27	                src={rvLogo}
    28	                alt="Roberts Ventures LLC"
    29	                style={{
    30	                  width: 22,
    31	                  height: 22,
    32	                  objectFit: "contain",
    33	                  filter: "drop-shadow(0 0 12px rgba(56,189,248,.18))",
    34	                }}
    35	              />
    36	              <div style={{ fontWeight: 950, letterSpacing: "0.06em", color: "#e2e8f0" }}>
    37	                Roberts Ventures LLC
    38	              </div>
    39	            </div>
    40	
    41	            <div className="muted" style={{ fontWeight: 850 }}>
    42	              Home Services ‚Ä¢ Woodworking ‚Ä¢ Outdoor ‚Ä¢ Project Consultation
    43	            </div>
    44	          </div>
    45	
    46	          <div className="row" style={{ gap: 12, flexWrap: "wrap" }}>
    47	            <NavLink to="/about" style={linkStyle}>About</NavLink>
    48	            <NavLink to="/portfolio" style={linkStyle}>Portfolio</NavLink>
    49	            <NavLink to="/reviews" style={linkStyle}>Reviews</NavLink>
    50	            <NavLink to="/faq" style={linkStyle}>FAQ</NavLink>
    51	            <NavLink to="/service-area" style={linkStyle}>Service Area</NavLink>
    52	            <NavLink to="/policies" style={linkStyle}>Policies</NavLink>
    53	          </div>
    54	        </div>
    55	
    56	        <div
    57	          className="panel"
    58	          style={{
    59	            padding: 14,
    60	            borderRadius: 16,
    61	            display: "grid",
    62	            gap: 10,
    63	            background: "rgba(15,23,42,0.55)",
    64	            border: "1px solid rgba(148,163,184,0.16)",
    65	          }}
    66	        >
    67	          <div className="row" style={{ justifyContent: "space-between", gap: 12, flexWrap: "wrap" }}>
    68	            <div style={{ display: "grid", gap: 4 }}>
    69	              <div style={{ fontWeight: 950, color: "#e5e7eb" }}>Stay Lit Candle Co.</div>
    70	              <div className="muted" style={{ fontWeight: 850 }}>
    71	                Pre-made candles ‚Ä¢ Build-your-own scent + jar + wick
    72	              </div>
    73	            </div>
    74	            <div className="row" style={{ gap: 12, flexWrap: "wrap" }}>
    75	              <NavLink to="/staylit" style={linkStyle}>Stay Lit Home</NavLink>
    76	              <NavLink to="/staylit/about" style={linkStyle}>Stay Lit About</NavLink>
    77	              <NavLink to="/staylit/policies" style={linkStyle}>Stay Lit Policies</NavLink>
    78	            </div>
    79	          </div>
    80	
    81	          <div className="muted" style={{ fontWeight: 850 }}>
    82	            ¬© {new Date().getFullYear()} Roberts Ventures LLC. All rights reserved.
    83	          </div>
    84	        </div>
    85	      </div>
    86	    </footer>
    87	  );
    88	}

==================== src/components/EstimatePreview.tsx ====================
     1	import { useMemo } from "react";
     2	import { useCart } from "../data/requestCart";
     3	import { SERVICES } from "../data/services";
     4	import { ADD_ONS } from "../data/addOns";
     5	
     6	type PriceType = "fixed" | "starting_at" | "quote";
     7	
     8	function money(n: number) {
     9	  return new Intl.NumberFormat("en-US", { style: "currency", currency: "USD" }).format(n);
    10	}
    11	
    12	function getCartItems(cart: any): Array<any> {
    13	  // Try common shapes without assuming your internal structure
    14	  if (Array.isArray(cart?.items)) return cart.items;
    15	  if (Array.isArray(cart?.lines)) return cart.lines;
    16	  if (Array.isArray(cart?.cart)) return cart.cart;
    17	  if (Array.isArray(cart?.state?.items)) return cart.state.items;
    18	  if (typeof cart?.getItems === "function") {
    19	    const v = cart.getItems();
    20	    if (Array.isArray(v)) return v;
    21	  }
    22	  // If cart stores by id map: { [id]: {qty,note,addOns} }
    23	  if (cart && typeof cart === "object" && cart.byId && typeof cart.byId === "object") {
    24	    return Object.entries(cart.byId).map(([id, v]: any) => ({ serviceId: id, ...(v || {}) }));
    25	  }
    26	  return [];
    27	}
    28	
    29	function getQty(it: any): number {
    30	  const q = it?.qty ?? it?.quantity ?? 1;
    31	  const n = Number(q);
    32	  return Number.isFinite(n) && n > 0 ? n : 1;
    33	}
    34	
    35	function getServiceId(it: any): string {
    36	  return String(it?.serviceId ?? it?.id ?? it?.service?.id ?? "");
    37	}
    38	
    39	function getAddOnIds(cart: any, it: any): string[] {
    40	  // Normalize any add-on representation to a string id
    41	  const norm = (x: any) => String(x ?? "").trim();
    42	
    43	  // Common item-level shapes
    44	  if (Array.isArray(it?.addOns)) {
    45	    return it.addOns.map((x: any) => norm(x?.id ?? x?.addOnId ?? x?.serviceId ?? x)).filter(Boolean);
    46	  }
    47	  if (Array.isArray(it?.addOnIds)) {
    48	    return it.addOnIds.map((x: any) => norm(x)).filter(Boolean);
    49	  }
    50	
    51	  const sid = norm(it?.serviceId ?? it?.id ?? it?.service?.id);
    52	
    53	  // Common cart-level shapes
    54	  if (sid && Array.isArray(cart?.addOnsByService?.[sid])) {
    55	    return cart.addOnsByService[sid].map((x: any) => norm(x?.id ?? x?.addOnId ?? x?.serviceId ?? x)).filter(Boolean);
    56	  }
    57	  if (sid && typeof cart?.getAddOns === "function") {
    58	    const v = cart.getAddOns(sid);
    59	    if (Array.isArray(v)) return v.map((x: any) => norm(x?.id ?? x?.addOnId ?? x?.serviceId ?? x)).filter(Boolean);
    60	  }
    61	
    62	  // Fallback: some stores keep an addOns map keyed by serviceId
    63	  if (sid && typeof cart?.addOns === "object" && cart?.addOns) {
    64	    const v = cart.addOns[sid];
    65	    if (Array.isArray(v)) return v.map((x: any) => norm(x?.id ?? x?.addOnId ?? x?.serviceId ?? x)).filter(Boolean);
    66	  }
    67	
    68	  return [];
    69	}
    70	
    71	function resolveAddOn(addById: Map<string, any>, rawId: string) {
    72	  const ridRaw = String(rawId || "");
    73	  if (!ridRaw) return undefined;
    74	
    75	  const rid = normalizeId(ridRaw);
    76	
    77	  // Exact + normalized matches
    78	  return (
    79	    addById.get(ridRaw) ||
    80	    addById.get(rid) ||
    81	    addById.get(ridRaw.trim()) ||
    82	    addById.get(ridRaw.toLowerCase().trim()) ||
    83	    undefined
    84	  );
    85	}
    86	
    87	function normalizeId(x: any) {
    88	  return String(x ?? "")
    89	    .trim()
    90	    .toLowerCase()
    91	    .replace(/^id:\s*/i, "")
    92	    .replace(/^addon\s*:\s*/i, "")
    93	    .replace(/\s+/g, "");
    94	}
    95	
    96	function buildAddOnIndex(addOns: any[]) {
    97	  const idx = new Map<string, any>();
    98	
    99	  for (const a of addOns) {
   100	    const raw = String(a?.id ?? "");
   101	    const norm = normalizeId(raw);
   102	    if (!raw) continue;
   103	
   104	    // store the original id and normalized id
   105	    idx.set(raw, a);
   106	    idx.set(norm, a);
   107	
   108	    // store common variants so cart can use different formats
   109	    const variants = [
   110	      raw.replace(/^addon[-_]/i, ""),
   111	      raw.replace(/^add[-_]?on[-_]/i, ""),
   112	      raw.replace(/^rv[-_]/i, ""),
   113	      norm.replace(/^addon[-_]/i, ""),
   114	      norm.replace(/^add[-_]?on[-_]/i, ""),
   115	      norm.replace(/^rv[-_]/i, ""),
   116	    ].filter(v => v && v != raw && v != norm);
   117	
   118	    for (const v of variants) {
   119	      idx.set(v, a);
   120	      idx.set(normalizeId(v), a);
   121	    }
   122	  }
   123	
   124	  return idx;
   125	}
   126	
   127	export default function EstimatePreview() {
   128	  const cart = useCart();
   129	
   130	  const items = useMemo(() => getCartItems(cart), [cart]);
   131	
   132	  const calc = useMemo(() => {
   133	    let minTotal = 0;
   134	    const quotes: string[] = [];
   135	    const lines: Array<{ label: string; note: string; amount?: number }> = [];
   136	
   137	    const svcById = new Map([...SERVICES, ...ADD_ONS].map((s: any) => [String(s.id), s]));
   138	    const addById = buildAddOnIndex(ADD_ONS as any[]);
   139	
   140	    for (const it of items) {
   141	      const sid = getServiceId(it);
   142	      if (!sid) continue;
   143	
   144	      const svc: any = svcById.get(sid);
   145	      const qty = getQty(it);
   146	
   147	      if (svc) {
   148	        const isAddOn = Boolean((svc as any).isAddOn);
   149	        const labelName = isAddOn ? `Add-on: ${svc.name}` : svc.name;
   150	
   151	        const pt: PriceType = svc.priceType;
   152	        if (pt === "quote") {
   153	          quotes.push(`${labelName}`);
   154	          lines.push({ label: labelName, note: "Quote required" });
   155	        } else {
   156	          const price = Number(svc.price ?? 0);
   157	          const amt = (Number.isFinite(price) ? price : 0) * qty;
   158	          minTotal += amt;
   159	          lines.push({
   160	            label: labelName,
   161	            note: pt === "starting_at" ? `Starting at ${money(price)} √ó ${qty}` : `${money(price)} √ó ${qty}`,
   162	            amount: amt,
   163	          });
   164	        }
   165	      } else {
   166	        // Unknown service id (still show it)
   167	        lines.push({ label: sid, note: "Service", amount: undefined });
   168	      }
   169	
   170	      // Add-ons for this service (if present)
   171	      const addOnIds = getAddOnIds(cart, it);
   172	      for (const aid of addOnIds) {
   173	        const add: any = resolveAddOn(addById, String(aid));
   174	        if (!add) {
   175	          lines.push({ label: `Add-on: ${aid}`, note: "Add-on", amount: undefined });
   176	          continue;
   177	        }
   178	        const pt: PriceType = add.priceType;
   179	        if (pt === "quote") {
   180	          quotes.push(`${add.name} (add-on)`);
   181	          lines.push({ label: `Add-on: ${add.name}`, note: "Quote required" });
   182	        } else {
   183	          const price = Number(add.price ?? 0);
   184	          const amt = (Number.isFinite(price) ? price : 0);
   185	          minTotal += amt;
   186	          lines.push({
   187	            label: `Add-on: ${add.name}`,
   188	            note: pt === "starting_at" ? `Starting at ${money(price)}` : `${money(price)}`,
   189	            amount: amt,
   190	          });
   191	        }
   192	      }
   193	    }
   194	
   195	    return { minTotal, quotes, lines };
   196	  }, [items, cart]);
   197	
   198	  if (!items || items.length === 0) return null;
   199	
   200	  return (
   201	    <section className="panel card" style={{ width: "100%", margin: 0, padding: 16, borderRadius: 18 }}>
   202	      <div style={{ display: "flex", flexDirection: "column", alignItems: "center", textAlign: "center", gap: 12 }}>
   203	        <div style={{ display: "grid", gap: 6, justifyItems: "center" }}>
   204	          <div className="badge" style={{ width: "fit-content" }}>Estimate Preview</div>
   205	          <div className="rate-bright" style={{ fontWeight: 950, fontSize: 18 }}>
   206	            Estimated minimum: {money(calc.minTotal)}
   207	          </div>
   208	          <div className="muted" style={{ fontWeight: 850, maxWidth: 820 }}>
   209	            This is an estimate based on fixed/starting prices. Final cost may change after inspection,
   210	            measurements, materials, access, or any quote-required items.
   211	          </div>
   212	        </div>
   213	
   214	        {calc.quotes.length > 0 ? (
   215	          <div
   216	            className="panel"
   217	            style={{
   218	              padding: 12,
   219	              borderRadius: 14,
   220	              margin: "0 auto",
   221	              maxWidth: 420,
   222	              textAlign: "center",
   223	              width: "100%",
   224	            }}
   225	          >
   226	            <div className="rate-bright" style={{ fontWeight: 950 }}>Quote required</div>
   227	            <div className="muted" style={{ marginTop: 6, fontWeight: 850 }}>
   228	              {calc.quotes.slice(0, 6).join(", ")}
   229	              {calc.quotes.length > 6 ? "‚Ä¶" : ""}
   230	            </div>
   231	          </div>
   232	        ) : (
   233	          <div
   234	            className="panel"
   235	            style={{
   236	              padding: 12,
   237	              borderRadius: 14,
   238	              margin: "0 auto",
   239	              maxWidth: 420,
   240	              textAlign: "center",
   241	              width: "100%",
   242	              alignSelf: "center",
   243	            }}
   244	          >
   245	            <div className="rate-bright" style={{ fontWeight: 950 }}>No quotes needed</div>
   246	            <div className="muted" style={{ marginTop: 6, fontWeight: 850 }}>
   247	              All selected items have listed pricing.
   248	            </div>
   249	          </div>
   250	        )}
   251	      </div>
   252	
   253	      <div style={{ marginTop: 12, display: "grid", gap: 8 }}>
   254	        {calc.lines.map((ln, i) => (
   255	          <div key={i} className="panel" style={{ padding: 10, borderRadius: 14 }}>
   256	            <div style={{ display: "flex", justifyContent: "center", gap: 14, flexWrap: "wrap", textAlign: "center" }}>
   257	              <div style={{ fontWeight: 950 }}>{ln.label}</div>
   258	              <div className="badge rate-bright" style={{ width: "fit-content" }}>
   259	                {ln.amount === undefined ? ln.note : money(ln.amount)}
   260	              </div>
   261	            </div>
   262	            {ln.amount !== undefined ? (
   263	              <div className="muted" style={{ marginTop: 6, fontWeight: 850 }}>{ln.note}</div>
   264	            ) : null}
   265	          </div>
   266	        ))}
   267	      </div>
   268	    </section>
   269	  );
   270	}

==================== src/pages/Home.tsx ====================
     1	import { Link } from "react-router-dom";
     2	import rvLogo from "../assets/roberts-ventures-logo.png";
     3	
     4	export default function Home() {
     5	  return (
     6	    <div className="stack page page-enter" style={{ gap: 18 }}>
     7	      {/* HERO / SPLASH */}
     8	      <section
     9	        className="panel card glow-panel"
    10	        style={{
    11	          padding: 22,
    12	          borderRadius: 18,
    13	          overflow: "hidden",
    14	          position: "relative",
    15	        }}
    16	      >
    17	        {/* Subtle futuristic accent */}
    18	        <div
    19	          aria-hidden
    20	          style={{
    21	            position: "absolute",
    22	            inset: -80,
    23	            background:
    24	              "radial-gradient(circle at 20% 10%, rgba(29,78,216,0.18), transparent 40%), radial-gradient(circle at 90% 30%, rgba(34,197,94,0.14), transparent 45%), radial-gradient(circle at 50% 110%, rgba(245,158,11,0.12), transparent 55%)",
    25	            filter: "blur(2px)",
    26	            pointerEvents: "none",
    27	          }}
    28	        />
    29	
    30	        <div style={{ position: "relative", display: "grid", gap: 14, justifyItems: "center", textAlign: "center" }}>
    31	          {/* Logo */}
    32	          <img
    33	            src={rvLogo}
    34	            alt="Roberts Ventures LLC"
    35	            style={{
    36	              width: 92,
    37	              height: 92,
    38	              objectFit: "contain",
    39	              filter: "drop-shadow(0 0 18px rgba(56,189,248,.22))",
    40	              marginTop: 2,
    41	            }}
    42	          />
    43	
    44	          <div className="badge" style={{ width: "fit-content" }}>
    45	            Roberts Ventures LLC
    46	          </div>
    47	
    48	          <h1
    49	            className="h1"
    50	            style={{
    51	              margin: 0,
    52	              fontWeight: 950,
    53	              letterSpacing: -0.6,
    54	              lineHeight: 1.05,
    55	              color: "var(--head-accent)",
    56	            }}
    57	          >
    58	            Modern home services,
    59	            <br />
    60	            woodworking & projects ‚Äî done right.
    61	          </h1>
    62	
    63	          <p
    64	            className="lead"
    65	            style={{
    66	              margin: 0,
    67	              maxWidth: 860,
    68	              fontWeight: 800,
    69	              color: "var(--head-accent)",
    70	              opacity: 0.82,
    71	              lineHeight: 1.35,
    72	            }}
    73	          >
    74	            Pick a service, customize with add-ons, and send a request in minutes. From TV mounting and ceiling fans to
    75	            custom shelving, deck repair, and haul-away.
    76	          </p>
    77	
    78	          {/* CTA buttons */}
    79	          <div
    80	            className="row"
    81	            style={{
    82	              gap: 10,
    83	              flexWrap: "wrap",
    84	              marginTop: 4,
    85	              alignItems: "center",
    86	              justifyContent: "center",
    87	            }}
    88	          >
    89	            <Link
    90	              to="/services"
    91	              className="btn btn-primary"
    92	              style={{
    93	                padding: "10px 16px",
    94	                fontWeight: 950,
    95	                boxShadow: "0 10px 26px rgba(29,78,216,0.22)",
    96	              }}
    97	            >
    98	              Browse Services ‚Üí
    99	            </Link>
   100	
   101	            <Link
   102	              to="/schedule"
   103	              className="btn btn-ghost"
   104	              style={{
   105	                padding: "10px 16px",
   106	                fontWeight: 950,
   107	              }}
   108	            >
   109	              Schedule / Request
   110	            </Link>
   111	
   112	            <Link
   113	              to="/staylit"
   114	              className="btn btn-ghost"
   115	              style={{
   116	                padding: "10px 16px",
   117	                fontWeight: 950,
   118	              }}
   119	            >
   120	              Stay Lit Candle Co. ‚ú®
   121	            </Link>
   122	          </div>
   123	
   124	          {/* Quick trust/feature cards */}
   125	          <div
   126	            style={{
   127	              display: "grid",
   128	              gridTemplateColumns: "repeat(auto-fit, minmax(210px, 1fr))",
   129	              gap: 10,
   130	              marginTop: 10,
   131	              width: "100%",
   132	            }}
   133	          >
   134	            <div className="panel" style={{ padding: 12, borderRadius: 14 }}>
   135	              <div style={{ fontWeight: 950, color: "var(--head-accent)" }}>Clear pricing</div>
   136	              <div className="sub-accent" style={{ fontWeight: 850, marginTop: 6 }}>
   137	                Prices shown when fixed/starting ‚Äî quotes when needed.
   138	              </div>
   139	            </div>
   140	
   141	            <div className="panel" style={{ padding: 12, borderRadius: 14 }}>
   142	              <div style={{ fontWeight: 950, color: "var(--head-accent)" }}>Fast scheduling</div>
   143	              <div className="sub-accent" style={{ fontWeight: 850, marginTop: 6 }}>
   144	                Select services + add-ons and send your request quickly.
   145	              </div>
   146	            </div>
   147	
   148	            <div className="panel" style={{ padding: 12, borderRadius: 14 }}>
   149	              <div style={{ fontWeight: 950, color: "var(--head-accent)" }}>Quality work</div>
   150	              <div className="sub-accent" style={{ fontWeight: 850, marginTop: 6 }}>
   151	                Clean finish, professional approach, and communication.
   152	              </div>
   153	            </div>
   154	
   155	            <div className="panel" style={{ padding: 12, borderRadius: 14 }}>
   156	              <div style={{ fontWeight: 950, color: "var(--head-accent)" }}>Stay Lit inside</div>
   157	              <div className="sub-accent" style={{ fontWeight: 850, marginTop: 6 }}>
   158	                Candle business lives inside the Roberts Ventures site.
   159	              </div>
   160	            </div>
   161	          </div>
   162	        </div>
   163	      </section>
   164	
   165	      {/* TWO-PANEL SPLASH: Services vs Stay Lit */}
   166	      <section
   167	        style={{
   168	          display: "grid",
   169	          gridTemplateColumns: "repeat(auto-fit, minmax(320px, 1fr))",
   170	          gap: 14,
   171	        }}
   172	      >
   173	        {/* Left: Roberts Ventures */}
   174	        <div
   175	          className="panel card card-center glow-panel"
   176	          style={{
   177	                        padding: 18,
   178	            borderRadius: 18,
   179	            textAlign: "center",
   180	          }}
   181	        >
   182	          <div className="badge" style={{ width: "fit-content" }}>
   183	            Home Services ‚Ä¢ Outdoor ‚Ä¢ Woodworking
   184	          </div>
   185	
   186	          <h2 className="h2" style={{ marginTop: 10, marginBottom: 8, fontWeight: 950 }}>
   187	            Book your next project
   188	          </h2>
   189	
   190	          <p className="body" style={{ margin: 0, fontWeight: 800, opacity: 0.82, maxWidth: 700 }}>
   191	            <span className="sub-accent">Browse the catalog, pick add-ons (like cable concealment or haul-away),</span> and
   192	            send details so we can confirm and schedule.
   193	          </p>
   194	
   195	          <div className="row" style={{ gap: 10, flexWrap: "wrap", marginTop: 14, justifyContent: "center" }}>
   196	            <Link to="/services" className="btn btn-primary" style={{ fontWeight: 950 }}>
   197	              View Catalog
   198	            </Link>
   199	            <Link to="/schedule" className="btn btn-ghost" style={{ fontWeight: 950 }}>
   200	              Go to Schedule
   201	            </Link>
   202	            <Link to="/contact" className="btn btn-ghost" style={{ fontWeight: 950 }}>
   203	              Contact
   204	            </Link>
   205	          </div>
   206	        </div>
   207	
   208	        {/* Right: Stay Lit */}
   209	        <div
   210	          className="panel card card-center glow-panel"
   211	          style={{
   212	                        padding: 18,
   213	            borderRadius: 18,
   214	            textAlign: "center",
   215	          }}
   216	        >
   217	          <div className="badge" style={{ width: "fit-content" }}>
   218	            Stay Lit Candle Co.
   219	          </div>
   220	
   221	          <h2 className="h2" style={{ marginTop: 10, marginBottom: 8, fontWeight: 950 }}>
   222	            Candles with a vibe
   223	          </h2>
   224	
   225	          <p className="body" style={{ margin: 0, fontWeight: 800, opacity: 0.82, maxWidth: 700 }}>
   226	            A dedicated area inside the Roberts Ventures app ‚Äî perfect for future product listings, bundles, and ordering.
   227	          </p>
   228	
   229	          <div className="row" style={{ gap: 10, flexWrap: "wrap", marginTop: 14, justifyContent: "center" }}>
   230	            <Link to="/staylit" className="btn btn-primary" style={{ fontWeight: 950 }}>
   231	              Enter Stay Lit
   232	            </Link>
   233	            <Link to="/services" className="btn btn-ghost" style={{ fontWeight: 950 }}>
   234	              Back to Services
   235	            </Link>
   236	          </div>
   237	
   238	          <div className="panel" style={{ marginTop: 14, padding: 12, borderRadius: 14 }}>
   239	            <div style={{ fontWeight: 950, color: "var(--head-accent)" }}>Coming soon</div>
   240	            <div className="sub-accent" style={{ fontWeight: 850, marginTop: 6 }}>
   241	              Product grid, scent filters, bundles, gift notes, and checkout.
   242	            </div>
   243	          </div>
   244	        </div>
   245	      </section>
   246	    </div>
   247	  );
   248	}

==================== src/pages/Services.tsx ====================
     1	import { useMemo, useState } from "react";
     2	import { Link } from "react-router-dom";
     3	import { CATEGORIES, SERVICES, type Service } from "../data/services";
     4	import { useCart } from "../data/requestCart";
     5	import { toast } from "../lib/toast";
     6	
     7	function formatPrice(s: Service) {
     8	  if (s.priceType === "quote") return "Quote required";
     9	
    10	  const money = new Intl.NumberFormat("en-US", {
    11	    style: "currency",
    12	    currency: "USD",
    13	  }).format(s.price ?? 0);
    14	
    15	  if (s.priceType === "fixed") return `${money} ${s.unitLabel ? `(${s.unitLabel})` : ""}`;
    16	  return `Starting at ${money}`;
    17	}
    18	
    19	export default function ServicesPage() {
    20	  const cart = useCart();
    21	  const [category, setCategory] = useState("All");
    22	  const [q, setQ] = useState("");
    23	
    24	  const filtered = useMemo(() => {
    25	    const query = q.trim().toLowerCase();
    26	    return SERVICES.filter((s) => {
    27	      const matchCategory = category === "All" ? true : s.category === category;
    28	      const matchQuery =
    29	        query.length === 0
    30	          ? true
    31	          : (s.name + " " + s.shortDesc).toLowerCase().includes(query);
    32	      return matchCategory && matchQuery;
    33	    });
    34	  }, [category, q]);
    35	
    36	  return (
    37	    <div className="stack page">
    38	      <section className="panel card card-center">
    39	        <h1 className="h2">Services Catalog</h1>
    40	        <p className="lead" style={{ maxWidth: 760 }}>
    41	          Pick a service and add it to your request. For quote-required jobs, add notes and photos in Schedule.
    42	        </p>
    43	
    44	        <div className="row">
    45	          <span className="badge">Cart: {cart.count}</span>
    46	          <span className="badge">Showing: {filtered.length}</span>
    47	        </div>
    48	
    49	        <div
    50	          className="row"
    51	          style={{
    52	            width: "100%",
    53	            maxWidth: 820,
    54	            marginTop: 10,
    55	          }}
    56	        >
    57	          <select className="field" value={category} onChange={(e) => setCategory(e.target.value)}>
    58	            <option value="All">All</option>
    59	            {CATEGORIES.map((c) => (
    60	              <option key={c} value={c}>
    61	                {c}
    62	              </option>
    63	            ))}
    64	          </select>
    65	
    66	          <input
    67	            className="field"
    68	            placeholder="Search services‚Ä¶"
    69	            value={q}
    70	            onChange={(e) => setQ(e.target.value)}
    71	          />
    72	        </div>
    73	      </section>
    74	
    75	      <section className="stack">
    76	        {filtered.map((s) => (
    77	          <article
    78	            key={s.id}
    79	            className="panel card"
    80	            style={{
    81	              display: "grid",
    82	              gridTemplateColumns: "140px 1fr",
    83	              gap: 16,
    84	              alignItems: "center",
    85	            }}
    86	          >
    87	            {/* LEFT: Image */}
    88	            <div
    89	              style={{
    90	                width: 140,
    91	                height: 140,
    92	                borderRadius: 14,
    93	                overflow: "hidden",
    94	                border: "1px solid rgba(2,6,23,0.16)",
    95	                boxShadow: "0 10px 26px rgba(29,78,216,0.10)",
    96	                background: "rgba(255,255,255,0.85)",
    97	              }}
    98	            >
    99	              {s.image ? (
   100	                <img
   101	                  src={s.image}
   102	                  alt={s.name}
   103	                  style={{
   104	                    width: "100%",
   105	                    height: "100%",
   106	                    objectFit: "cover",
   107	                    display: "block",
   108	                  }}
   109	                />
   110	              ) : (
   111	                <div
   112	                  className="card-center"
   113	                  style={{
   114	                    width: "100%",
   115	                    height: "100%",
   116	                    padding: 10,
   117	                  }}
   118	                >
   119	                  <div className="label">No Image</div>
   120	                  <div className="muted" style={{ fontWeight: 900, fontSize: 12 }}>
   121	                    {s.id}
   122	                  </div>
   123	                </div>
   124	              )}
   125	            </div>
   126	
   127	            {/* RIGHT: Content */}
   128	            <div style={{ display: "grid", gap: 8 }}>
   129	              <div className="row" style={{ justifyContent: "space-between", alignItems: "flex-start" }}>
   130	                <div style={{ display: "grid", gap: 6 }}>
   131	                  <div className="h3">{s.name}</div>
   132	                  <div className="muted" style={{ fontWeight: 900, fontSize: 13 }}>
   133	                    {s.category}
   134	                  </div>
   135	                </div>
   136	
   137	                <div style={{ textAlign: "right" }}>
   138	                  <div className="badge" style={{ justifyContent: "center" }}>
   139	                    {s.priceType === "fixed" ? "Fixed" : s.priceType === "starting_at" ? "Starting" : "Quote"}
   140	                  </div>
   141	                  <div className="price-accent" style={{ fontWeight: 950, marginTop: 8 }}>{formatPrice(s)}</div>
   142	                </div>
   143	              </div>
   144	
   145	              <div className="body">{s.shortDesc}</div>
   146	
   147	              <div className="row">
   148	                <button className="btn btn-primary" onClick={() => { cart.add(s); toast(`${s.name} added`, "success", "Added", 2600, "View Schedule", "/schedule"); }}>
   149	                  Add to Request
   150	                </button>
   151	
   152	                <Link
   153	                  to={`/services/${s.id}`}
   154	                  className="btn btn-ghost"
   155	                  style={{ textDecoration: "none" }}
   156	                >
   157	                  View Details
   158	                </Link>
   159	
   160	                {cart.has(s.id) && <span className="badge">Added ‚úì</span>}
   161	              </div>
   162	            </div>
   163	          </article>
   164	        ))}
   165	      </section>
   166	
   167	      <style>{`
   168	        /* Mobile: stack image on top */
   169	        @media (max-width: 620px) {
   170	          article.panel.card {
   171	            grid-template-columns: 1fr !important;
   172	          }
   173	          article.panel.card > div:first-child {
   174	            width: 100% !important;
   175	            height: 190px !important;
   176	          }
   177	        }
   178	      `}</style>
   179	    </div>
   180	  );
   181	}
==================== src/pages/Schedule.tsx ====================
     1	import { useMemo, useState } from "react";
     2	import { useCart } from "../data/requestCart";
     3	import { SERVICES } from "../data/services";
     4	import { ADD_ONS } from "../data/addOns";
     5	import { AVAILABILITY } from "../data/availability";
     6	import {
     7	  addDays,
     8	  buildSlotsForDate,
     9	  clampToMidnight,
    10	  formatDateInput,
    11	  formatTimeLabel,
    12	  isOpenDay,
    13	} from "../data/timeSlots";
    14	import EstimatePreview from "../components/EstimatePreview";
    15	
    16	type PhotoAttachment = {
    17	  name: string;
    18	  type: string;
    19	  dataUrl: string;
    20	};
    21	
    22	type ContactInfo = {
    23	  name: string;
    24	  phone: string;
    25	  address: string;
    26	  notes: string;
    27	  photos: PhotoAttachment[];
    28	};
    29	
    30	const MAX_PHOTOS = 6;
    31	const MAX_BYTES_PER_PHOTO = 1_200_000;
    32	
    33	function fileToDataUrl(file: File): Promise<string> {
    34	  return new Promise((resolve, reject) => {
    35	    const r = new FileReader();
    36	    r.onload = () => resolve(String(r.result));
    37	    r.onerror = () => reject(new Error("Failed to read image"));
    38	    r.readAsDataURL(file);
    39	  });
    40	}
    41	
    42	
    43	function money(n: number) {
    44	  return new Intl.NumberFormat("en-US", { style: "currency", currency: "USD" }).format(n);
    45	}
    46	
    47	function makeAccessCode() {
    48	  // 6-digit numeric code
    49	  return String(Math.floor(100000 + Math.random() * 900000));
    50	}
    51	
    52	function estimateLabel(s: any, qty: number) {
    53	  if (!s) return "";
    54	  const q = Number.isFinite(Number(qty)) && Number(qty) > 0 ? Number(qty) : 1;
    55	
    56	  if (s.priceType === "quote") return "Quote";
    57	
    58	  const price = typeof s.price === "number" ? s.price : 0;
    59	
    60	  if (s.priceType === "starting_at") {
    61	    const min = price * q;
    62	    return `From ${money(min)}`;
    63	  }
    64	
    65	  return money(price * q);
    66	}
    67	
    68	
    69	
    70	
    71	
    72	function QuoteBanner({ quoteNames }: { quoteNames: string[] }) {
    73	  if (quoteNames.length === 0) return null;
    74	
    75	  return (
    76	    <div
    77	      style={{
    78	        width: "100%",
    79	        maxWidth: 900,
    80	        borderRadius: 14,
    81	        padding: 14,
    82	        border: "1px solid rgba(220,38,38,0.35)",
    83	        background: "rgba(220,38,38,0.10)",
    84	        color: "#7f1d1d",
    85	        boxShadow: "0 10px 28px rgba(220,38,38,0.10)",
    86	      }}
    87	    >
    88	      <div style={{ fontWeight: 950, fontSize: 14 }}>
    89	        Quote required for {quoteNames.length} item{quoteNames.length === 1 ? "" : "s"}
    90	      </div>
    91	      <div style={{ marginTop: 6, fontWeight: 800, fontSize: 12, opacity: 0.95 }}>
    92	        Please add photos below for fastest response. Quote items are not included in the estimate.
    93	      </div>
    94	      <div style={{ marginTop: 8, fontSize: 12, fontWeight: 800 }}>
    95	        {quoteNames.join(", ")}
    96	      </div>
    97	    </div>
    98	  );
    99	}
   100	
   101	export default function Schedule() {
   102	  const cart = useCart();
   103	
   104	  const ALL_SERVICES = useMemo(() => [...SERVICES, ...ADD_ONS], []);
   105	
   106	  const itemsDetailed = useMemo(() => {
   107	    return cart.items.map((i) => {
   108	      const service = ALL_SERVICES.find((s) => s.id === i.serviceId);
   109	      
   110	      const estLabel = estimateLabel(service as any, Number(i.qty ?? 1));
   111	return { ...i, service, estLabel };
   112	    });
   113	  }, [cart.items, ALL_SERVICES]);
   114	
   115	  // ‚úÖ Estimate breakdown (fixed + starting at minimum + quote list)
   116	  const estimate = useMemo(() => {
   117	    let fixedSubtotal = 0;
   118	    let startingSubtotal = 0;
   119	
   120	    const quoteNames: string[] = [];
   121	    const missingNames: string[] = [];
   122	
   123	    for (const i of itemsDetailed) {
   124	      const s: any = i.service;
   125	      const qty = Number(i.qty ?? 1);
   126	
   127	      if (!s) {
   128	        missingNames.push(i.serviceId);
   129	        continue;
   130	      }
   131	
   132	      const name = s.name ?? i.serviceId;
   133	
   134	      if (s.priceType === "quote") {
   135	        quoteNames.push(name);
   136	        continue;
   137	      }
   138	
   139	      const price = typeof s.price === "number" ? s.price : 0;
   140	
   141	      if (s.priceType === "fixed") {
   142	        fixedSubtotal += price * qty;
   143	        continue;
   144	      }
   145	
   146	      if (s.priceType === "starting_at") {
   147	        startingSubtotal += price * qty;
   148	        continue;
   149	      }
   150	
   151	      // unknown price type
   152	      missingNames.push(name);
   153	    }
   154	
   155	    const minTotal = fixedSubtotal + startingSubtotal;
   156	    const hasStarting = startingSubtotal > 0;
   157	
   158	    return {
   159	      fixedSubtotal,
   160	      startingSubtotal,
   161	      minTotal,
   162	      hasStarting,
   163	      quoteNames,
   164	      missingNames,
   165	    };
   166	  }, [itemsDetailed]);
   167	
   168	  const today = clampToMidnight(new Date());
   169	  const maxDate = addDays(today, AVAILABILITY.maxDaysAhead);
   170	
   171	  const defaultDate = useMemo(() => {
   172	    let d = new Date(today);
   173	    for (let i = 0; i <= 14; i++) {
   174	      if (isOpenDay(d)) return d;
   175	      d = addDays(d, 1);
   176	    }
   177	    return today;
   178	  }, [today]);
   179	
   180	  const [dateStr, setDateStr] = useState(formatDateInput(defaultDate));
   181	  const chosenDate = useMemo(() => new Date(dateStr + "T00:00:00"), [dateStr]);
   182	
   183	  const slots = useMemo(() => buildSlotsForDate(chosenDate), [chosenDate]);
   184	  const [selectedSlotISO, setSelectedSlotISO] = useState<string>("");
   185	
   186	  const [contact, setContact] = useState<ContactInfo>({
   187	    name: "",
   188	    phone: "",
   189	    address: "",
   190	    notes: "",
   191	    photos: [],
   192	  });
   193	
   194	  async function onAddPhotos(files: FileList | null) {
   195	    if (!files || files.length === 0) return;
   196	
   197	    const existing = contact.photos.length;
   198	    const remaining = Math.max(0, MAX_PHOTOS - existing);
   199	
   200	    if (remaining === 0) {
   201	      alert(`Photo limit reached (${MAX_PHOTOS}). Remove one to add more.`);
   202	      return;
   203	    }
   204	
   205	    const selected = Array.from(files).slice(0, remaining);
   206	
   207	    const tooBig = selected.find((f) => f.size > MAX_BYTES_PER_PHOTO);
   208	    if (tooBig) {
   209	      alert(
   210	        `One of your photos is too large (${Math.round(tooBig.size / 1024)} KB). ` +
   211	          `Please choose images under ~${Math.round(MAX_BYTES_PER_PHOTO / 1024)} KB each.`
   212	      );
   213	      return;
   214	    }
   215	
   216	    try {
   217	      const attachments: PhotoAttachment[] = [];
   218	      for (const f of selected) {
   219	        const dataUrl = await fileToDataUrl(f);
   220	        attachments.push({ name: f.name, type: f.type, dataUrl });
   221	      }
   222	
   223	      setContact((c) => ({
   224	        ...c,
   225	        photos: [...c.photos, ...attachments],
   226	      }));
   227	    } catch (e) {
   228	      console.error(e);
   229	      alert("Could not read one of the images. Please try again.");
   230	    }
   231	  }
   232	
   233	  function removePhoto(index: number) {
   234	    setContact((c) => ({
   235	      ...c,
   236	      photos: c.photos.filter((_, i) => i !== index),
   237	    }));
   238	  }
   239	
   240	  function onSubmit() {
   241	    if (cart.items.length === 0) {
   242	      alert("Your request cart is empty. Please add services first.");
   243	      return;
   244	    }
   245	    if (!contact.name.trim() || !contact.phone.trim()) {
   246	      alert("Please enter at least your name and phone number.");
   247	      return;
   248	    }
   249	    if (!selectedSlotISO) {
   250	      alert("Please select a time slot.");
   251	      return;
   252	    }
   253	
   254	    const request = {
   255	      createdAt: new Date().toISOString(),
   256	      appointmentStart: selectedSlotISO,
   257	      accessCode: makeAccessCode(),
   258	      customer: {
   259	        name: contact.name,
   260	        phone: contact.phone,
   261	        address: contact.address,
   262	        notes: contact.notes,
   263	      },
   264	      items: cart.items,
   265	      photos: contact.photos,
   266	      status: "new" as const,
   267	    };
   268	
   269	    const existing = JSON.parse(localStorage.getItem("rv_requests") ?? "[]");
   270	
   271	    // ‚úÖ Give this request a stable id (clean + reliable)
   272	    if (!(request as any).id) {
   273	      (request as any).id =
   274	        (crypto as any).randomUUID?.() ??
   275	        (Math.random().toString(16).slice(2) + Date.now().toString(16));
   276	    }
   277	
   278	    localStorage.setItem("rv_requests", JSON.stringify([request, ...existing]));
   279	
   280	    // ‚úÖ Redirect to confirmation page
   281	    window.location.href = `/request-confirmed/${(request as any).id}`;
   282	    return;alert("Request submitted! (Saved locally for now.)");
   283	
   284	    cart.clear();
   285	    setSelectedSlotISO("");
   286	    setContact({ name: "", phone: "", address: "", notes: "", photos: [] });
   287	  }
   288	
   289	  function EstimateBox({ compact }: { compact?: boolean }) {
   290	  return (
   291	    <div
   292	      className="panel card"
   293	      style={{
   294	        width: "100%",
   295	        maxWidth: 1100,
   296	        margin: "0 auto",
   297	        padding: compact ? 12 : 16,
   298	        background: "var(--panel-bg)",
   299	        border: "1px solid var(--border)",
   300	        textAlign: "center",
   301	      }}
   302	    >
   303	      {/* Header */}
   304	      <div style={{ display: "grid", gap: 8, justifyItems: "center" }}>
   305	        <div className="h3" style={{ margin: 0 }}>
   306	          Estimate Summary
   307	        </div>
   308	        <div className="muted" style={{ fontWeight: 900, maxWidth: 820 }}>
   309	          Minimum estimate = Fixed + Starting-at items (quote items not included)
   310	        </div>
   311	
   312	        <div
   313	          className="badge rate-bright"
   314	          style={{
   315	            justifyContent: "center",
   316	            width: "fit-content",
   317	            marginTop: 6,
   318	            fontWeight: 950,
   319	          }}
   320	        >
   321	          Minimum: {money(estimate.minTotal)}
   322	          {estimate.hasStarting ? "+" : ""}
   323	        </div>
   324	      </div>
   325	
   326	      {/* Tiles */}
   327	      <div
   328	        style={{
   329	          marginTop: 12,
   330	          display: "grid",
   331	          gridTemplateColumns: "repeat(auto-fit, minmax(220px, 1fr))",
   332	          gap: 10,
   333	          justifyItems: "center",
   334	        }}
   335	      >
   336	        <div className="panel" style={{ padding: 12, borderRadius: 12, width: "100%", maxWidth: 360 }}>
   337	          <div className="label">Fixed subtotal</div>
   338	          <div className="rate-bright" style={{ fontWeight: 950, marginTop: 6 }}>{money(estimate.fixedSubtotal)}</div>
   339	        </div>
   340	
   341	        <div className="panel" style={{ padding: 12, borderRadius: 12, width: "100%", maxWidth: 360 }}>
   342	          <div className="label">Starting-at subtotal</div>
   343	          <div className="rate-bright" style={{ fontWeight: 950, marginTop: 6 }}>
   344	            {money(estimate.startingSubtotal)}
   345	            {estimate.startingSubtotal > 0 ? "+" : ""}
   346	          
   347	          </div>
   348	        </div>
   349	
   350	        <div className="panel" style={{ padding: 12, borderRadius: 12, width: "100%", maxWidth: 360 }}>
   351	          <div className="label">Quote-required items</div>
   352	          <div className="rate-bright" style={{ fontWeight: 950, marginTop: 6 }}>{estimate.quoteNames.length}</div>
   353	        </div>
   354	      </div>
   355	
   356	      {/* Missing items */}
   357	      {estimate.missingNames.length > 0 && (
   358	        <div style={{ marginTop: 12 }}>
   359	          <div className="label">Unpriced / missing items</div>
   360	          <div className="body" style={{ marginTop: 6 }}>
   361	            {estimate.missingNames.join(", ")}
   362	          </div>
   363	        </div>
   364	      )}
   365	
   366	      {/* Disclaimer */}
   367	      {!compact && (
   368	        <div className="muted" style={{ fontWeight: 900, marginTop: 12, maxWidth: 900, marginLeft: "auto", marginRight: "auto" }}>
   369	          ‚ÄúStarting at‚Äù prices are minimums and may change based on site conditions, access, materials, or complexity.
   370	        </div>
   371	      )}
   372	    </div>
   373	  );
   374	}
   375	
   376	  return (
   377	    <div className="stack page">
   378	      <section className="panel card card-center">
   379	        <h1 className="h2">Schedule Your Service</h1>
   380	        <p className="lead" style={{ maxWidth: 720 }}>
   381	          Review your request, pick a date & time, attach photos (optional), and submit.
   382	        </p>
   383	
   384	        <div className="row" style={{ flexWrap: "wrap" }}>
   385	          <span className="badge">Cart items: {cart.count}</span>
   386	          <span className="badge">
   387	            Hours: {AVAILABILITY.startHour}:00‚Äì{AVAILABILITY.endHour}:00
   388	          </span>
   389	          <span className="badge">Slots: {AVAILABILITY.slotMinutes} min</span>
   390	          <span className="badge">Request photos: {contact.photos.length}/{MAX_PHOTOS}</span>
   391	        </div>
   392	
   393	        {cart.items.length > 0 && (
   394	          <div style={{ width: "100%", marginTop: 14, display: "grid", gap: 12 }}>
   395	            {/* ‚úÖ Red warning at top */}
   396	            <QuoteBanner quoteNames={estimate.quoteNames} />
   397	
   398	            
   399	      <EstimatePreview />
   400	<EstimateBox />
   401	          </div>
   402	        )}
   403	      </section>
   404	
   405	      {cart.items.length === 0 ? (
   406	        <section className="panel card card-center">
   407	          <h3 className="h3">Your request cart is empty</h3>
   408	          <p className="body" style={{ maxWidth: 560 }}>
   409	            Go to Services, add what you need, then come back here to schedule.
   410	          </p>
   411	          <button className="btn btn-primary" onClick={() => (window.location.href = "/services")}>
   412	            Go to Services
   413	          </button>
   414	        </section>
   415	      ) : (
   416	        <section className="stack">
   417	          {itemsDetailed.map((i) => (
   418	            <article
   419	              key={i.serviceId}
   420	              className="panel card"
   421	              style={{
   422	                display: "grid",
   423	                gridTemplateColumns: "96px minmax(0, 1fr)",
   424	                gap: 14,
   425	                alignItems: "start",
   426	              }}
   427	            >
   428	              {/* LEFT: image for service or add-on */}
   429	              <div
   430	                style={{
   431	                  width: 96,
   432	                  height: 96,
   433	                  borderRadius: 14,
   434	                  overflow: "hidden",
   435	                  border: "1px solid rgba(2,6,23,0.16)",
   436	                  background: "rgba(255,255,255,0.85)",
   437	                  boxShadow: "0 10px 22px rgba(29,78,216,0.10)",
   438	                }}
   439	              >
   440	                {i.service?.image ? (
   441	                  <img
   442	                    src={i.service.image}
   443	                    alt={i.service?.name ?? "Service"}
   444	                    style={{ width: "100%", height: "100%", objectFit: "cover", display: "block" }}
   445	                  />
   446	                ) : (
   447	                  <div className="card-center" style={{ width: "100%", height: "100%", padding: 10 }}>
   448	                    <div className="label">No Image</div>
   449	                  </div>
   450	                )}
   451	              </div>
   452	
   453	              {/* RIGHT: content */}
   454	              <div style={{ display: "grid", gap: 10, alignItems: "stretch" }}>
   455	                <div className="row" style={{ justifyContent: "space-between" }}>
   456	                  <div>
   457	                    <h3 className="h3" style={{ margin: 0 }}>
   458	                      {i.service?.name ?? "Service"}
   459	                    </h3>
   460	                    <div className="muted" style={{ fontWeight: 900 }}>
   461	                      {i.service?.category ?? "‚Äî"}
   462	                    </div>
   463	                  </div>
   464	
   465	                  <div className="row">
   466	                    <span className="badge">Qty: {i.qty}</span>
   467	                    {i.estLabel ? (
   468	                      <span className="badge" style={{
   469	                        fontWeight: 950,
   470	                        borderRadius: 12,
   471	                        padding: "8px 12px",
   472	                        border: "1px solid rgba(2,6,23,0.14)",
   473	                        background: String(i.estLabel).toLowerCase().includes("quote")
   474	                          ? "rgba(245,158,11,0.16)"
   475	                          : String(i.estLabel).toLowerCase().includes("from")
   476	                          ? "rgba(14,165,233,0.14)"
   477	                          : "rgba(34,197,94,0.14)",
   478	                      }}>
   479	                        {i.estLabel}
   480	                      </span>
   481	                    ) : null}
   482	                    <button className="btn btn-ghost" onClick={() => cart.remove(i.serviceId)}>
   483	                      Remove
   484	                    </button>
   485	                  </div>
   486	                </div>
   487	
   488	                <label style={{ width: "100%", display: "grid", gap: 6 }}>
   489	                  <span className="label">Notes for this item</span>
   490	                  <textarea
   491	                    className="field"
   492	                    rows={3}
   493	                    value={i.note}
   494	                    onChange={(e) => cart.setNote(i.serviceId, e.target.value)}
   495	                    placeholder="Add helpful details"
   496	                  />
   497	                </label>
   498	              </div>
   499	            </article>
   500	          ))}
   501	
   502	          <div className="row" style={{ justifyContent: "center" }}>
   503	            <button className="btn btn-ghost" onClick={cart.clear}>
   504	              Clear All
   505	            </button>
   506	          </div>
   507	        </section>
   508	      )}
   509	
   510	      {cart.items.length > 0 && (
   511	        <section className="panel card card-center">
   512	          <h2 className="h2">Pick a Date</h2>
   513	
   514	          <div style={{ width: "100%", maxWidth: 520, display: "grid", gap: 10 }}>
   515	            <input
   516	              className="field"
   517	              type="date"
   518	              value={dateStr}
   519	              min={formatDateInput(today)}
   520	              max={formatDateInput(maxDate)}
   521	              onChange={(e) => {
   522	                setDateStr(e.target.value);
   523	                setSelectedSlotISO("");
   524	              }}
   525	            />
   526	
   527	            {!isOpenDay(chosenDate) && (
   528	              <div className="badge" style={{ justifyContent: "center" }}>
   529	                Closed on this day ‚Äî please choose another date.
   530	              </div>
   531	            )}
   532	          </div>
   533	
   534	          <h2 className="h2" style={{ marginTop: 18 }}>
   535	            Pick a Time
   536	          </h2>
   537	
   538	          <div
   539	            style={{
   540	              width: "100%",
   541	              maxWidth: 720,
   542	              display: "grid",
   543	              gridTemplateColumns: "repeat(auto-fit, minmax(160px, 1fr))",
   544	              gap: 10,
   545	              marginTop: 10,
   546	            }}
   547	          >
   548	            {slots.length === 0 ? (
   549	              <div className="badge" style={{ gridColumn: "1 / -1", justifyContent: "center" }}>
   550	                No slots available for this date.
   551	              </div>
   552	            ) : (
   553	              slots.map((t) => {
   554	                const iso = t.toISOString();
   555	                const selected = selectedSlotISO === iso;
   556	                return (
   557	                  <button
   558	                    key={iso}
   559	                    type="button"
   560	                    className={"btn " + (selected ? "btn-primary" : "btn-ghost")}
   561	                    onClick={() => setSelectedSlotISO(iso)}
   562	                    style={{ justifyContent: "center" }}
   563	                  >
   564	                    {formatTimeLabel(t)}
   565	                  </button>
   566	                );
   567	              })
   568	            )}
   569	          </div>
   570	        </section>
   571	      )}
   572	
   573	      {cart.items.length > 0 && (
   574	        <section className="panel card card-center">
   575	          <h2 className="h2">Your Info</h2>
   576	
   577	          <div style={{ width: "100%", maxWidth: 720, display: "grid", gap: 10 }}>
   578	            <input
   579	              className="field"
   580	              placeholder="Full Name"
   581	              value={contact.name}
   582	              onChange={(e) => setContact({ ...contact, name: e.target.value })}
   583	            />
   584	            <input
   585	              className="field"
   586	              placeholder="Phone Number"
   587	              value={contact.phone}
   588	              onChange={(e) => setContact({ ...contact, phone: e.target.value })}
   589	            />
   590	            <input
   591	              className="field"
   592	              placeholder="Service Address (optional for now)"
   593	              value={contact.address}
   594	              onChange={(e) => setContact({ ...contact, address: e.target.value })}
   595	            />
   596	            <textarea
   597	              className="field"
   598	              rows={4}
   599	              placeholder="General notes (parking, gate code, preferred arrival window, etc.)"
   600	              value={contact.notes}
   601	              onChange={(e) => setContact({ ...contact, notes: e.target.value })}
   602	            />
   603	
   604	            {/* ‚úÖ Compact estimate + red quote banner near photos */}
   605	            <div style={{ display: "grid", gap: 10 }}>
   606	              <QuoteBanner quoteNames={estimate.quoteNames} />
   607	              <EstimateBox compact />
   608	            </div>
   609	
   610	            <div className="panel card schedItem" style={{ width: "100%", padding: 14 }}>
   611	              <div className="label">Request Photos (optional)</div>
   612	              <div className="body" style={{ marginTop: 6 }}>
   613	                Add photos to help with quote-required work. Max {MAX_PHOTOS} photos, ~{Math.round(MAX_BYTES_PER_PHOTO / 1024)}KB each.
   614	              </div>
   615	
   616	              <div className="row" style={{ marginTop: 10, justifyContent: "center" }}>
   617	                <input type="file" accept="image/*" multiple onChange={(e) => onAddPhotos(e.target.files)} />
   618	              </div>
   619	
   620	              {contact.photos.length > 0 && (
   621	                <div
   622	                  style={{
   623	                    marginTop: 12,
   624	                    display: "grid",
   625	                    gridTemplateColumns: "repeat(auto-fit, minmax(120px, 1fr))",
   626	                    gap: 10,
   627	                  }}
   628	                >
   629	                  {contact.photos.map((p, idx) => (
   630	                    <div key={idx} className="panel" style={{ padding: 10, borderRadius: 12 }}>
   631	                      <img
   632	                        src={p.dataUrl}
   633	                        alt={p.name}
   634	                        style={{
   635	                          width: "100%",
   636	                          height: 110,
   637	                          objectFit: "cover",
   638	                          borderRadius: 10,
   639	                          border: "1px solid rgba(15,23,42,0.15)",
   640	                        }}
   641	                      />
   642	                      <div className="muted" style={{ fontSize: 11, fontWeight: 900, marginTop: 6, wordBreak: "break-word" }}>
   643	                        {p.name}
   644	                      </div>
   645	                      <button className="btn btn-ghost" style={{ width: "100%", marginTop: 8 }} onClick={() => removePhoto(idx)}>
   646	                        Remove
   647	                      </button>
   648	                    </div>
   649	                  ))}
   650	                </div>
   651	              )}
   652	            </div>
   653	          </div>
   654	
   655	          <button className="btn btn-primary" onClick={onSubmit} style={{ marginTop: 12 }}>
   656	            Submit Request
   657	          </button>
   658	        </section>
   659	      )}
   660	
   661	      <style>{`
   662	        @media (max-width: 620px) {
   663	          article.panel.card {
   664	            grid-template-columns: 1fr !important;
   665	          }
   666	          article.panel.card > div:first-child {
   667	            width: 100% !important;
   668	            height: 190px !important;
   669	          }
   670	        }
   671	      `}</style>
   672	    </div>
   673	  );
   674	}
==================== src/pages/staylit/StayLitSplash.tsx ====================
     1	import logo from "../../assets/staylit-logo.gif";
     2	
     3	export default function StayLitSplash() {
     4	  return (
     5	    <div
     6	      style={{
     7	        minHeight: "calc(100vh - 80px)",
     8	        display: "flex",
     9	        alignItems: "center",
    10	        justifyContent: "center",
    11	        padding: "24px 16px",
    12	        textAlign: "center",
    13	      }}
    14	    >
    15	      {/* Flicker CSS (inline + guaranteed to load) */}
    16	      <style>{`
    17	        @keyframes slFlameFlicker {
    18	          0%   { transform: translateY(0px)   rotate(-10deg) scale(1.00) translateZ(0); filter: drop-shadow(0 0 10px rgba(251,191,36,0.85)); opacity: .92; }
    19	          12%  { transform: translateY(-4px)  rotate( 12deg) scale(1.18) translateZ(0); filter: drop-shadow(0 0 18px rgba(245,158,11,0.95)); opacity: 1; }
    20	          28%  { transform: translateY(-7px)  rotate( -8deg) scale(1.26) translateZ(0); filter: drop-shadow(0 0 24px rgba(251,146,60,0.95)); opacity: .98; }
    21	          45%  { transform: translateY(-3px)  rotate( 10deg) scale(1.16) translateZ(0); filter: drop-shadow(0 0 16px rgba(253,186,116,0.90)); opacity: 1; }
    22	          63%  { transform: translateY(-9px)  rotate(-12deg) scale(1.30) translateZ(0); filter: drop-shadow(0 0 26px rgba(251,113,133,0.45)); opacity: .92; }
    23	          78%  { transform: translateY(-5px)  rotate(  8deg) scale(1.22) translateZ(0); filter: drop-shadow(0 0 20px rgba(251,191,36,0.95)); opacity: 1; }
    24	          92%  { transform: translateY(-2px)  rotate( -6deg) scale(1.10) translateZ(0); filter: drop-shadow(0 0 14px rgba(253,186,116,0.85)); opacity: .96; }
    25	          100% { transform: translateY(0px)   rotate(-10deg) scale(1.00) translateZ(0); filter: drop-shadow(0 0 10px rgba(251,191,36,0.85)); opacity: .92; }
    26	        }
    27	        .slFlame {
    28	          display: inline-block;
    29	          transform-origin: 50% 85%;
    30	          animation: slFlameFlicker 0.75s infinite;
    31	          will-change: transform, filter, opacity;
    32	        }
    33	        /* A subtle second aura that pulses behind the title */
    34	        @keyframes slAuraPulse {
    35	          0% { opacity: .25; transform: scale(1); }
    36	          50% { opacity: .45; transform: scale(1.06); }
    37	          100% { opacity: .25; transform: scale(1); }
    38	        }
    39	        .slAura {
    40	          position: absolute;
    41	          inset: -10px -18px;
    42	          background: radial-gradient(circle at 50% 40%, rgba(59,130,246,.30), rgba(0,0,0,0) 65%);
    43	          filter: blur(10px);
    44	          animation: slAuraPulse 2.2s ease-in-out infinite;
    45	          pointer-events: none;
    46	        }
    47	      `}</style>
    48	
    49	      <div
    50	        className="stack"
    51	        style={{
    52	          width: "100%",
    53	          maxWidth: 1100,
    54	          margin: "0 auto",
    55	          gap: 26,
    56	          justifyItems: "center",
    57	        }}
    58	      >
    59	        {/* HERO */}
    60	        <section
    61	          className="panel card"
    62	          style={{
    63	            width: "100%",
    64	            padding: 32,
    65	            textAlign: "center",
    66	            justifyContent: "center",
    67	            alignItems: "center",
    68	            flexDirection: "column",
    69	            display: "flex",
    70	            background: "rgba(10,10,15,0.75)",
    71	            backdropFilter: "blur(6px)",
    72	            border: "1px solid rgba(148,163,184,0.15)",
    73	            boxShadow: "0 0 30px rgba(59,130,246,0.25)",
    74	          }}
    75	        >
    76	          <div className="card-center" style={{ gap: 16, width: "100%", justifyContent: "center", alignItems: "center" }}>
    77	            {/* LOGO */}
    78	            <img
    79	              src={logo}
    80	              alt="Stay Lit Logo"
    81	              style={{
    82	                width: 92,
    83	                height: 92,
    84	                objectFit: "contain",
    85	                marginBottom: 6,
    86	                filter: "drop-shadow(0 0 16px rgba(59,130,246,0.6))",
    87	              }}
    88	            />
    89	
    90	            {/* BRAND TAG */}
    91	            <div
    92	              style={{
    93	                fontWeight: 900,
    94	                letterSpacing: "0.22em",
    95	                fontSize: 12,
    96	                color: "#60a5fa",
    97	                textTransform: "uppercase",
    98	              }}
    99	            >
   100	              Stay Lit Candle Co.
   101	            </div>
   102	
   103	            {/* MAIN TITLE */}
   104	            <div style={{ position: "relative", display: "inline-block" }}>
   105	              <div className="slAura" />
   106	              <h1
   107	                style={{
   108	                  margin: 0,
   109	                  fontSize: "clamp(2.2rem, 5vw, 3.2rem)",
   110	                  fontWeight: 950,
   111	                  letterSpacing: "0.04em",
   112	                  background: "linear-gradient(90deg,#ffffff,#93c5fd,#ffffff)",
   113	                  WebkitBackgroundClip: "text",
   114	                  WebkitTextFillColor: "transparent",
   115	                  textShadow: "0 0 20px rgba(147,197,253,0.4)",
   116	                  position: "relative",
   117	                }}
   118	              >
   119	                <span className="slFlame" style={{ fontSize: "1.15em", marginRight: 10, color: "#fbbf24", WebkitTextFillColor: "#fbbf24" }}>üî•</span> STAY LIT
   120	              </h1>
   121	            </div>
   122	
   123	            {/* SUBTITLE */}
   124	            <div
   125	              style={{
   126	                fontWeight: 900,
   127	                fontSize: 18,
   128	                letterSpacing: "0.08em",
   129	                color: "#e5e7eb",
   130	              }}
   131	            >
   132	              Urban ‚Ä¢ Luxury ‚Ä¢ Hand-Poured
   133	            </div>
   134	
   135	            {/* DESCRIPTION */}
   136	            <div
   137	              style={{
   138	                fontWeight: 800,
   139	                maxWidth: 820,
   140	                color: "#cbd5f5",
   141	                lineHeight: 1.6,
   142	                fontSize: 15,
   143	              }}
   144	            >
   145	              Hand-poured candles built for atmosphere, focus, and relaxation. Choose a ready-to-ship candle ‚Äî or
   146	              design your own with custom scent, jar, and wick.
   147	            </div>
   148	
   149	            {/* FEATURES */}
   150	            <div
   151	              style={{
   152	                display: "flex",
   153	                flexWrap: "wrap",
   154	                justifyContent: "center",
   155	                gap: 14,
   156	                fontWeight: 850,
   157	                color: "#93c5fd",
   158	                letterSpacing: "0.05em",
   159	                marginTop: 4,
   160	              }}
   161	            >
   162	              <span>Clean Burn</span>
   163	              <span>‚Ä¢</span>
   164	              <span>Premium Wax</span>
   165	              <span>‚Ä¢</span>
   166	              <span>Long Lasting</span>
   167	            </div>
   168	          </div>
   169	        </section>
   170	
   171	        {/* OPTIONS */}
   172	        <section
   173	          style={{
   174	            width: "100%",
   175	            display: "grid",
   176	            gridTemplateColumns: "repeat(auto-fit, minmax(280px, 1fr))",
   177	            gap: 20,
   178	            justifyItems: "center",
   179	          }}
   180	        >
   181	          {/* PREMADE */}
   182	          <article
   183	            className="panel card"
   184	            style={{
   185	              display: "grid",
   186	              gap: 14,
   187	              textAlign: "center",
   188	              padding: 24,
   189	              width: "100%",
   190	              maxWidth: 520,
   191	              background: "rgba(15,23,42,0.7)",
   192	              border: "1px solid rgba(148,163,184,0.15)",
   193	              boxShadow: "0 0 18px rgba(59,130,246,0.2)",
   194	            }}
   195	          >
   196	            <div style={{ fontSize: 46 }}>üïØÔ∏è</div>
   197	
   198	            <h2
   199	              style={{
   200	                margin: 0,
   201	                fontWeight: 900,
   202	                letterSpacing: "0.06em",
   203	                color: "#f8fafc",
   204	              }}
   205	            >
   206	              PRE-MADE CANDLES
   207	            </h2>
   208	
   209	            <div
   210	              style={{
   211	                fontWeight: 800,
   212	                color: "#c7d2fe",
   213	                lineHeight: 1.5,
   214	              }}
   215	            >
   216	              Ready now. Pick your scent and we‚Äôll handle the rest.
   217	            </div>
   218	
   219	            <a className="btn btn-primary" href="/staylit/shop">
   220	              Browse Collection
   221	            </a>
   222	          </article>
   223	
   224	          {/* CUSTOM */}
   225	          <article
   226	            className="panel card"
   227	            style={{
   228	              display: "grid",
   229	              gap: 14,
   230	              textAlign: "center",
   231	              padding: 24,
   232	              width: "100%",
   233	              maxWidth: 520,
   234	              background: "rgba(15,23,42,0.7)",
   235	              border: "1px solid rgba(148,163,184,0.15)",
   236	              boxShadow: "0 0 18px rgba(59,130,246,0.2)",
   237	            }}
   238	          >
   239	            <div style={{ fontSize: 46 }}>üß™</div>
   240	
   241	            <h2
   242	              style={{
   243	                margin: 0,
   244	                fontWeight: 900,
   245	                letterSpacing: "0.06em",
   246	                color: "#f8fafc",
   247	              }}
   248	            >
   249	              CUSTOM BUILD
   250	            </h2>
   251	
   252	            <div
   253	              style={{
   254	                fontWeight: 800,
   255	                color: "#c7d2fe",
   256	                lineHeight: 1.5,
   257	              }}
   258	            >
   259	              Design your own candle. Scent. Jar. Wick. Your style.
   260	            </div>
   261	
   262	            <a className="btn btn-primary" href="/staylit/create">
   263	              Build Yours
   264	            </a>
   265	          </article>
   266	        </section>
   267	
   268	        {/* FOOTER */}
   269	        <section className="card-center">
   270	          <div
   271	            style={{
   272	              fontWeight: 850,
   273	              maxWidth: 900,
   274	              color: "#94a3b8",
   275	              letterSpacing: "0.04em",
   276	            }}
   277	          >
   278	            Perfect for gifts, events, and branded scents. Bulk orders available.
   279	          </div>
   280	        </section>
   281	      </div>
   282	    </div>
   283	  );
   284	}

==================== src/data/requestCart.ts (MISSING) ====================

==================== src/data/services.ts ====================
     1	import consultImg from "../assets/services/consultation.png";
     2	import tvMountImg from "../assets/services/tv-mount.png";
     3	import ceilingFanImg from "../assets/services/ceiling-fan.png";
     4	import shelvesImg from "../assets/services/custom-shelves.png";
     5	import deckRepairImg from "../assets/services/deck-repair.png";
     6	import junkImg from "../assets/services/junk-removal.png";
     7	
     8	export type PriceType = "fixed" | "starting_at" | "quote";
     9	
    10	export type Service = {
    11	  id: string;
    12	  category: string;
    13	  name: string;
    14	  shortDesc: string;
    15	  priceType: PriceType;
    16	  price?: number;        // used for fixed or starting_at
    17	  unitLabel?: string;    // e.g. "per visit", "per hour", "starting at"
    18	  durationMins?: number; // for scheduling defaults
    19	  image?: string;
    20	
    21	};
    22	
    23	export const CATEGORIES = [
    24	  "Home Services",
    25	  "Woodworking",
    26	  "Outdoor",
    27	  "Hauling & Cleanup",
    28	  "Consulting / Other",
    29	] as const;
    30	
    31	export const SERVICES: Service[] = [
    32	  {
    33	    id: "tv-mount",
    34	    category: "Home Services",
    35	    name: "TV Mounting",
    36	    shortDesc: "Mount TV on drywall/wood studs with basic setup.",
    37	    priceType: "fixed",
    38	    price: 150,
    39	    unitLabel: "flat rate",
    40	    durationMins: 90,
    41	    image: tvMountImg,
    42	  },
    43	  {
    44	    id: "ceiling-fan",
    45	    category: "Home Services",
    46	    name: "Ceiling Fan Install",
    47	    shortDesc: "Replace existing fan/light fixture (standard ceiling height).",
    48	    priceType: "starting_at",
    49	    price: 175,
    50	    unitLabel: "starting at",
    51	    durationMins: 120,
    52	    image: ceilingFanImg,
    53	  },
    54	  {
    55	    id: "custom-shelves",
    56	    category: "Woodworking",
    57	    name: "Custom Shelving (Built-In / Floating)",
    58	    shortDesc: "Design + build shelving to fit your space.",
    59	    priceType: "quote",
    60	    durationMins: 60,
    61	    image: shelvesImg,
    62	  },
    63	  {
    64	    id: "deck-repair",
    65	    category: "Outdoor",
    66	    name: "Deck Repair",
    67	    shortDesc: "Replace boards, tighten structure, improve safety.",
    68	    priceType: "quote",
    69	    durationMins: 120,
    70	    image: deckRepairImg,
    71	  },
    72	  {
    73	    id: "junk-removal",
    74	    category: "Hauling & Cleanup",
    75	    name: "Junk Removal / Haul Away",
    76	    shortDesc: "Pickup + disposal (pricing depends on volume and materials).",
    77	    priceType: "starting_at",
    78	    price: 125,
    79	    unitLabel: "starting at",
    80	    durationMins: 90,
    81	    image: junkImg,
    82	  },
    83	  {
    84	    id: "project-consult",
    85	    category: "Consulting / Other",
    86	    name: "Project Consultation",
    87	    shortDesc: "On-site or virtual planning, measurements, and recommendations.",
    88	    priceType: "fixed",
    89	    price: 75,
    90	    unitLabel: "per 30 min",
    91	    durationMins: 30,
    92	    image: consultImg,
    93	  },
    94	];

==================== src/data/addOns.ts ====================
     1	import type { Service } from "./services";
     2	
     3	import soundbarImg from "../assets/addons/soundbar-mount.png";
     4	import haulImg from "../assets/addons/haul-away.png";
     5	import deckWashImg from "../assets/addons/deck-wash.png";
     6	import summaryImg from "../assets/addons/written-summary.png";
     7	import highCeilingImg from "../assets/addons/high-ceiling.png";
     8	import cableImg from "../assets/addons/cable-concealment.png";
     9	import stainImg from "../assets/addons/stain-finish.png";
    10	import heavyImg from "../assets/addons/heavy-items.png";
    11	
    12	export type AddOn = Service & {
    13	  parentServiceIds: string[];
    14	  isAddOn: true;
    15	  image?: string;
    16	};
    17	
    18	export const ADD_ONS: AddOn[] = [
    19	  // TV Mounting add-ons
    20	  {
    21	    id: "addon-cable-concealment",
    22	    parentServiceIds: ["tv-mount"],
    23	    isAddOn: true,
    24	    image: cableImg,
    25	    category: "Add-Ons",
    26	    name: "Cable Concealment (Surface Raceway)",
    27	    shortDesc: "Hide TV cables using paintable surface raceway (in-wall not included).",
    28	    priceType: "starting_at",
    29	    price: 65,
    30	    unitLabel: "starting at",
    31	    durationMins: 30,
    32	  },
    33	  {
    34	    id: "addon-soundbar-mount",
    35	    parentServiceIds: ["tv-mount"],
    36	    isAddOn: true,
    37	    image: soundbarImg,
    38	    category: "Add-Ons",
    39	    name: "Soundbar Mount",
    40	    shortDesc: "Mount soundbar beneath TV (bracket required).",
    41	    priceType: "fixed",
    42	    price: 55,
    43	    unitLabel: "flat rate",
    44	    durationMins: 25,
    45	  },
    46	
    47	  // Ceiling Fan add-ons
    48	  {
    49	    id: "addon-high-ceiling",
    50	    parentServiceIds: ["ceiling-fan"],
    51	    isAddOn: true,
    52	    image: highCeilingImg,
    53	    category: "Add-Ons",
    54	    name: "High Ceiling / Tall Ladder Setup",
    55	    shortDesc: "For ceilings above standard height (quote may apply).",
    56	    priceType: "quote",
    57	    durationMins: 20,
    58	  },
    59	
    60	  // Custom Shelving add-ons
    61	  {
    62	    id: "addon-stain-finish",
    63	    parentServiceIds: ["custom-shelves"],
    64	    isAddOn: true,
    65	    image: stainImg,
    66	    category: "Add-Ons",
    67	    name: "Stain + Seal Finish",
    68	    shortDesc: "Finish shelves with stain and protective sealant (pricing varies).",
    69	    priceType: "quote",
    70	    durationMins: 30,
    71	  },
    72	
    73	  // Junk Removal add-ons
    74	  {
    75	    id: "addon-haul-away",
    76	    parentServiceIds: ["junk-removal"],
    77	    isAddOn: true,
    78	    image: haulImg,
    79	    category: "Add-Ons",
    80	    name: "Haul Away Old Furniture",
    81	    shortDesc: "Remove and dispose of old furniture or bulky items.",
    82	    priceType: "starting_at",
    83	    price: 25,
    84	    unitLabel: "starting at",
    85	    durationMins: 15,
    86	  },
    87	  {
    88	    id: "addon-heavy-items",
    89	    parentServiceIds: ["junk-removal"],
    90	    isAddOn: true,
    91	    image: heavyImg,
    92	    category: "Add-Ons",
    93	    name: "Heavy Items / Stairs Handling",
    94	    shortDesc: "For safes, appliances, pianos, or multi-floor carry-outs.",
    95	    priceType: "quote",
    96	    durationMins: 25,
    97	  },
    98	
    99	  // Deck Repair add-ons
   100	  {
   101	    id: "addon-deck-wash",
   102	    parentServiceIds: ["deck-repair"],
   103	    isAddOn: true,
   104	    image: deckWashImg,
   105	    category: "Add-Ons",
   106	    name: "Deck Wash Prep",
   107	    shortDesc: "Light cleaning to prep deck before repairs.",
   108	    priceType: "starting_at",
   109	    price: 45,
   110	    unitLabel: "starting at",
   111	    durationMins: 30,
   112	  },
   113	
   114	  // Consultation add-ons
   115	  {
   116	    id: "addon-written-summary",
   117	    parentServiceIds: ["project-consult"],
   118	    isAddOn: true,
   119	    image: summaryImg,
   120	    category: "Add-Ons",
   121	    name: "Written Summary",
   122	    shortDesc: "Written project plan with materials and timeline outline.",
   123	    priceType: "starting_at",
   124	    price: 40,
   125	    unitLabel: "starting at",
   126	    durationMins: 20,
   127	  },
   128	];
   129	
   130	export function addOnsFor(serviceId: string) {
   131	  return ADD_ONS.filter((a) => a.parentServiceIds.includes(serviceId));
   132	}

